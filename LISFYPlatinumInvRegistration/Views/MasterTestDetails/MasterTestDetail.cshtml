@*@{
            ViewBag.Title = "MasterTestDetail";
            Layout = "~/Views/Shared/_InvRegistrationLayout.cshtml";
        }

    <h2>MasterTestDetail</h2>*@
@{
    ViewBag.Title = "MasterTestDetail";
    Layout = "~/Views/Shared/_InvRegistrationLayout.cshtml";
}

@using (Html.BeginForm("MasterTestDetail", "MasterTestDetails", FormMethod.Post, new { id = "InvReqForm", enctype = "multipart/from-data" }))
{
    <div class="wrapper">

        <nav class="main-header navbar navbar-expand navbar-white navbar-light bg-blue">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" data-widget="pushmenu" href="#" role="button">
                        <i class="fas fa-bars"></i>
                    </a>
                </li>
                <h4 class="page-heading">Lab Registeration</h4>
            </ul>


            <ul class="navbar-nav ml-auto">
                <li class="nav-item dropdown">
                    <a class="nav-link" data-toggle="dropdown" href="#">
                        <i class="far fa-bell"></i>
                        <span class="badge badge-warning navbar-badge">15</span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                        <span class="dropdown-item dropdown-header">15 Notifications</span>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-envelope mr-2"></i> 4 new messages
                            <span class="float-right text-muted text-sm">3 mins</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-users mr-2"></i> 8 friend requests
                            <span class="float-right text-muted text-sm">12 hours</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-file mr-2"></i> 3 new reports
                            <span class="float-right text-muted text-sm">2 days</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item dropdown-footer">See All Notifications</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-widget="control-sidebar" data-slide="true" href="#" role="button">
                        <i class="fas fa-th-large"></i>
                    </a>
                </li>
            </ul>
        </nav>
        <!-- /.navbar -->
        <!-- Main Sidebar Container -->
        <aside class="main-sidebar sidebar-dark-primary elevation-4">

            <a href="" class="brand-link">
                <span class="brand-text font-weight-light client-logo"><img src="dist/img/logo.png" alt="logo"></span>
            </a>

            <div class="sidebar">

                <nav class="mt-2">
                    <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu"
                        data-accordion="false">

                        <li class="nav-item dropright">
                            <a href="#" class="nav-link" data-toggle="dropdown"
                               aria-haspopup="true" aria-expanded="false">
                                <i class="nav-icon fas fa-th"></i>
                                <p>Dashboard <i class="right fas fa-chevron-right"></i></p>
                            </a>
                            <div class="dropdown-menu">
                                <a href="" class="nav-link">Sample Link</a>
                                <a href="" class="nav-link">Sample Link</a>
                            </div>
                        </li>
                        <li class="nav-item ">
                            <a href="/InvoiceRegister/IvoiceRegistration" class="nav-link">
                                <i class="nav-icon far fa-plus-square"></i>
                                <p>Inv. Registration</p>
                            </a>
                        </li>
                        <li class="nav-item ">
                            <a href="/MasterTestDetails/MasterTestDetail" class="nav-link">
                                <i class="nav-icon far fa-newspaper"></i>
                                <p>Test</p>
                            </a>
                        </li>
                        <li class="nav-item ">
                            <a href="" data-toggle="modal" data-target="#doctorModal" class="nav-link">
                                <i class="nav-icon far fa fa-user-md"></i>
                                <p>Doctor</p>
                            </a>
                        </li>
                        <li class="nav-item ">
                            <a href="#" class="nav-link">
                                <i class="nav-icon fas fa-qrcode"></i>
                                <p>Barcode/Labeling</p>
                            </a>
                        </li>
                        <li class="nav-item ">
                            <a href="#" class="nav-link">
                                <i class="nav-icon fas fa-microscope"></i>
                                <p>Pending Collection</p>
                            </a>
                        </li>
                        <li class="nav-item ">
                            <a href="#" class="nav-link">
                                <i class="nav-icon fas fa-poll"></i>
                                <p>Result Releasing</p>
                            </a>
                        </li>
                        <li class="nav-item ">
                            <a href="#" class="nav-link">
                                <i class="nav-icon far fa-money-bill-alt"></i>
                                <p>Payments</p>
                            </a>
                        </li>
                        <li class="nav-item ">
                            <a href="#" class="nav-link">
                                <i class="nav-icon fas fa-cash-register"></i>
                                <p>Cash Closing</p>
                            </a>
                        </li>
                        <li class="nav-item ">
                            <a href="#" class="nav-link">
                                <i class="nav-icon fas fa-calculator"></i>
                                <p>Calculator</p>
                            </a>
                        </li>
                        <li class="nav-item ">
                            <a href="#" class="nav-link">
                                <i class="nav-icon far fa-calendar-check"></i>
                                <p>Appointment</p>
                            </a>
                        </li>
                        <li class="nav-item ">
                            <a href="#" class="nav-link">
                                <i class="nav-icon far fa-comment-dots"></i>
                                <p>Chat/Alerts</p>
                            </a>
                        </li>
                        @*<li>
                                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">
                                    Launch demo modal
                                </button>
                            </li>*@
                        <li class="nav-item ">
                            <a href="#" class="nav-link">
                                <i class="nav-icon fas fa-house-user"></i>
                                <p>Home Collection</p>
                            </a>
                        </li>
                        <li class="nav-item ">
                            <a href="#" class="nav-link">
                                <i class="nav-icon far fa-envelope-open"></i>
                                <p>Email List</p>
                            </a>
                        </li>
                        <li class="nav-item ">
                            <a href="#" class="nav-link">
                                <i class="nav-icon far fa-bell"></i>
                                <p>Alarm</p>
                            </a>
                        </li>
                        <li class="nav-item ">
                            <a href="#" class="nav-link">
                                <i class="nav-icon far fa-newspaper"></i>
                                <p>News & Events</p>
                            </a>
                        </li>
                        <li class="nav-item ">
                            <a href="#" class="nav-link">
                                <i class="nav-icon far fa-user-circle"></i>
                                <p>About Us</p>
                            </a>
                        </li>
                        <li class="nav-item ">
                            <a href="#" class="nav-link">
                                <i class="nav-icon fas fa-sign-out-alt"></i>
                                <p>Exit</p>
                            </a>
                        </li>
                    </ul>
                </nav>


            </div>
        </aside>
        @*****************************************************DOCTOR***********************************************@
        @*<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">Modal title</h4>
                        </div>
                        <div class="modal-body">
                            <input type="text" class="form-control" id="myText">
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary">Save changes</button>
                        </div>
                    </div>
                </div>
            </div>*@
        <div class="modal fade" id="doctorModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
             aria-hidden="true" style="display: none;" data-backdrop="static">
            <div class="modal-dialog modal-popup" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="dctrModalLabel">Doctor</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="form-bg-div">
                            <div class="row">
                                <div class="col-lg-8">
                                    <div class="field-item namefield">
                                        <label for="">Name</label>
                                        <div class="row">
                                            @*<div class="col-lg-2 col-md-2 col-sm-2 col-3">*@<input type="text" id="dctrKey" name="dctrKey" style="display:none" readonly>@*</div>*@
                                            <div class="col-lg-12 col-md-12 col-sm-10 col-9">
                                                <input type="text" id="dctrName" name="dctrName">
                                                <button class="searchbtn" name="dctrSrch" id="dctrSrch" data-toggle="modal" data-target="#dctrSrchLkupEntry" data-backdrop="static" data-keyboard="false" type="button">
                                                    <i class="fas fa-search"></i>
                                                </button>
                                                @*<button class="searchbtn"  id="dctrSrch" name="dctrSrch"><i class="fas fa-search"></i></button>*@
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-4">
                                    <div class="field-item pl-lg-5">
                                        <label for="">Code</label>
                                        <input type="text" id="dctrCode" name="dctrCode">
                                    </div>
                                </div>
                                <div class="col-lg-12">
                                    <div class="field-item">
                                        <ul class="address-dis-list">
                                            <li>
                                                <label for="homeaddress">
                                                    <input type="radio" name="addr"
                                                           id="homeaddress" checked> Home
                                                    Address
                                                </label>
                                            </li>
                                            <li>
                                                <label for="hospaddress">
                                                    <input type="radio" name="addr"
                                                           id="hospaddress"> Hosp
                                                    Address
                                                </label>
                                            </li>
                                            <li>
                                                <label for="discount">
                                                    <input type="checkbox" name="discount" id="discount" class="uncheckall">
                                                    Discount
                                                </label>
                                            </li>
                                            <li>
                                                <label for="incen">
                                                    <input type="checkbox" name="incen" id="incen" class="uncheckall">
                                                    Incen
                                                </label>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-lg-12">
                                    <div class="field-item">
                                        <label for="">Home Address</label>
                                        <textarea class="textarea-style" name="homeAddr" id="homeAddr" cols="30"
                                                  rows="10"></textarea>
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <div class="field-item">
                                        <label for="">Mobile</label>
                                        <input type="text" id="dctrMob" name="dctrMob">
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <div class="field-item">
                                        <label for="">Phone</label>
                                        <input type="text" id="dctrPhn" name="dctrPhn">
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <div class="field-item">
                                        <label for="">Email</label>
                                        <input type="text" id="dctrEmail" name="dctrEmail">
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <div class="field-item">
                                        <label for="">Area</label>
                                        <input type="text" id="dctrArea" name="dctrArea">
                                        <input type="text" id="dctrAreaKey" name="dctrAreaKey" style="display:none">
                                        <button class="searchbtn" name="dctrAreaSrch" id="dctrAreaSrch" data-toggle="modal" data-target="#dctrSrchLkupEntry" data-backdrop="static" data-keyboard="false" type="button">
                                            <i class="fas fa-search"></i>
                                        </button>
                                        @*<button class="searchbtn" id="dctrAreaSrch" name="dctrAreaSrch"><i class="fas fa-search"></i></button>*@
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <div class="field-item">
                                        <label for="">Land Mark</label>
                                        <input type="text" id="dctrLndMrk" name="dctrLndMrk">
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <div class="field-item">
                                        <label for="">Contact Person</label>
                                        <input type="text" id="cntctPer" name="cntctPer">
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <div class="field-item">
                                        <label for="">Category</label>
                                        <input type="text" id="category" name="category">
                                        <input type="text" id="categoryKey" name="categoryKey" style="display:none">
                                        <button class="searchbtn" name="catgSrch" id="catgSrch" data-toggle="modal" data-target="#dctrSrchLkupEntry" data-backdrop="static" data-keyboard="false" type="button">
                                            <i class="fas fa-search"></i>
                                        </button>
                                        @*<button class="searchbtn" id="catgSrch" name="catgSrch"><i class="fas fa-search"></i></button>*@
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <div class="field-item">
                                        <label for="">Specialised</label>
                                        <input type="text" id="splzd" name="splzd">
                                        <input type="text" id="splzdKey" name="splzdKey" style="display:none">
                                        <button class="searchbtn" name="splzdSrch" id="splzdSrch" data-toggle="modal" data-target="#dctrSrchLkupEntry" data-backdrop="static" data-keyboard="false" type="button">
                                            <i class="fas fa-search"></i>
                                        </button>
                                        @*<button class="searchbtn" id="splzdSrch" name="splzdSrch"><i class="fas fa-search"></i></button>*@
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <div class="field-item">
                                        <label for="">Edu. Details</label>
                                        <input type="text" id="eduDls" name="eduDls">
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <div class="field-item">
                                        <label for="">Wrk. Hospital</label>
                                        <input type="text" id="wrkHosp" name="wrkHosp">
                                        <input type="text" id="wrkHospKey" name="wrkHospKey" style="display:none">
                                        <button class="searchbtn" name="wrkHospSrch" id="wrkHospSrch" data-toggle="modal" data-target="#dctrSrchLkupEntry" data-backdrop="static" data-keyboard="false" type="button">
                                            <i class="fas fa-search"></i>
                                        </button>
                                        @*<button class="searchbtn" id="wrkHospSrch" name="wrkHospSrch"><i class="fas fa-search"></i></button>*@
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="field-item">
                                        <label for="">Hospital Address</label>
                                        <textarea class="textarea-style" name="HospAddr" id="HospAddr" cols="30"
                                                  rows="10"></textarea>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="field-item">
                                        <label for="">Other Note</label>
                                        <textarea class="textarea-style" name="OthrNote" id="OthrNote" cols="30"
                                                  rows="10"></textarea>
                                    </div>
                                </div>
                                <div class="col-lg-12">
                                    <div class="field-item">
                                        <label for="">PRO</label>
                                        <input type="text" id="pro" name="pro">
                                    </div>
                                </div>
                                <div class="col-lg-5 col-md-5 col-sm-5">
                                    <div class="field-item">
                                        <label for="">Date of Birth</label>@*<input type="text" id="datepicker">*@
                                        <input type="text" name="dctrDOB" id="dctrDOB" placeholder="dd/mm/yyyy" autocomplete="off">
                                    </div>
                                </div>
                                <div class="col-lg-7 col-md-7 col-sm-7">
                                    <div class="field-item">
                                        <label for="">Gender</label>
                                        <ul class="address-dis-list">
                                            <li>
                                                <label for="male">
                                                    <input type="radio" name="gndr" id="male" checked>
                                                    Male
                                                </label>
                                            </li>
                                            <li>
                                                <label for="female">
                                                    <input type="radio" name="gndr" id="female">
                                                    Female
                                                </label>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-lg-5 col-md-5 col-sm-5">
                                    <div class="field-item">
                                        <label for="">Wed. Day</label>
                                        <input type="text" name="wedDay" id="wedDay" placeholder="dd/mm/yyyy" autocomplete="off">
                                    </div>
                                </div>
                                <div class="col-lg-7 col-md-7 col-sm-7">
                                    <div class="field-item pl-0">
                                        <ul class="address-dis-list">
                                            <li>
                                                <label for="active">
                                                    <input type="checkbox" name="a" class="uncheckall" id="active">
                                                    Active
                                                </label>
                                            </li>
                                            <li>
                                                <label for="email-report">
                                                    <input type="checkbox" name="a" class="uncheckall"
                                                           id="email-report">
                                                    Email Report
                                                </label>
                                            </li>
                                            <li>
                                                <label for="employee">
                                                    <input type="checkbox" name="a" class="uncheckall" id="employee">
                                                    Employee
                                                </label>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-lg-8 col-md-8 col-sm-8">
                                    <div class="field-item">
                                        <label for="">Note</label>
                                        <textarea class="docnote-textarea" name="dctrNote" id="dctrNote" cols="30"
                                                  rows="10"></textarea>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-4 col-6">
                                    <!--
                                    <button class="submit-btn doc-btn">Upload Signature</button>
                                    -->

                                    <div class="signature-field">
                                        <button class="closebtn"><i class="fas fa-times"></i></button>
                                        <div class="uploader">
                                            <img id="imagetoUpload" src="dist/img/placeholder.jpg" alt="upload" style="width:100%" accept=".jpg,.png,.jpeg,.svg">
                                            <input type="file" id="productImage" style="display:none;" name="img" value="" accept="image/png, image/jpg, image/jpeg, image/svg">

                                        </div>

                                        @*<img id="imgFileUpload" alt="Select File" title="Select File" src="orange.png" style="cursor: pointer" />
                                            <br />
                                            <span id="spnFilePath"></span>
                                            <input type="file" id="FileUpload1" style="display: none" />*@
                                        @*<img src="dist/img/placeholder.jpg" id="img" alt="">*@
                                        @*<img id="imgFileUpload" alt="Select File" title="Select File" src="dist/img/placeholder.jpg" style="cursor: pointer" />
                                            <br />
                                            <span id="spnFilePath"></span>
                                            <input type="file" id="FileUpload1" style="display: none" />*@
                                        @*<span>
                                                <img id="imgFileUpload" alt="Select File" title="Select File" src="dist/img/placeholder.jpg" style="cursor: pointer" />
                                                <input type="file" id="FileUpload1" style="display: none" />
                                            </span>*@
                                        @*<img id="imgFileUpload" alt="Select File" title="Select File" src="dist/img/placeholder.jpg" style="cursor: pointer" />*@
                                    </div>
                                    @*<button>Upload Image</button>*@
                                    <button class="submit-btn" id="uploadImg" style="width: 146px;"> Upload Image</button>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="bleu-btn" id="dctrNew"><i class="fas fa-plus"></i> New</button>
                        <button class="bleu-btn" id="dctrExit"><i class="fas fa-trash"></i> Delete</button>
                        <button class="submit-btn" id="dctrSave"><i class="fas fa-save"></i> Save</button>
                    </div>
                </div>
            </div>
        </div>
        @***********************************************************************************************@
        <div class="modal fade" id="dctrSrchLkupEntry" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
             aria-hidden="true" style="display:none">
            <div class="modal-dialog modal-dialog-centered modal-popup payment-modal" id="TstDtl" role="document">
                <div class="modal-content" id="dctrWdthCntnt">
                    <div class="modal-header">
                        <h5 class="modal-title" id="DoctorModalLabel">Doctors</h5>
                        <button type="button" class="close" id="dctrClose" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="form-bg-div create-user-div">
                            <div class="row">
                                <div class="col-lg-3">
                                    <select id="dctrSrchOptn" style="width: 90px;background:#dbe9f9;width: 100%;height: 26px;background: none;border: 1px solid #bed0e3;border-radius: 3px;outline: navajowhite;font-size: 14px;padding-left: 10px;background: #dbe9f9;">
                                        <option value="Doctor">Doctor</option>
                                        <option value="Key">Key</option>
                                        @*<option value="Department">Department</option>
                                            <option value="Sample Type">Sample Type</option>
                                            <option value="Rate">Rate</option>*@
                                    </select>
                                </div>
                                <div class="col-lg-9">
                                    <div class="" style="padding-left: 15px">
                                        <input type="text" id="dctrDtl" name="dctrDtl" style="background:#dbe9f9;width: 100%;height: 26px;background: none;border: 1px solid #bed0e3;border-radius: 3px;outline: navajowhite;font-size: 14px;padding-left: 10px;background: #dbe9f9;">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="container-fluid">
                                    <div class="table-responsive test-table">
                                        <table class="table-bordered" id="dctrLkUpEntryTable">
                                            <thead>
                                                <tr>
                                                    <th scope="col" style="width: 380px;">Doctor</th>
                                                    @*<th scope="col" style="width: 160px;">Department</th>
                                                        <th scope="col" style="width: 130px;">SampleType</th>
                                                        <th scope="col" style="width: 100px;">Rate</th>*@
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="dctrRow">
                                                    <td id="dctrNames" name="dctrNames"></td>
                                                    <td id="dctrKeys" name="dctrKeys" style="display:none"></td>

                                                </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @*****************************************************@
        <div class="content-wrapper testmaster-wrap" style="margin-bottom: 42px;">



            <div class="container-fluid">
                <h3 class="page-heading" id="PageHd"></h3>
            </div>
            <div class="container-fluid">
                <ul class="nav nav-tabs testmaster-tabs" id="myTab" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="testdetails-tab" data-toggle="tab" href="#testdetails" role="tab"
                           aria-controls="testdetails" aria-selected="true">Test Details</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="reference-range-tab" data-toggle="tab" href="#reference-range"
                           role="tab" aria-controls="reference-range" aria-selected="false">Reference Range 1</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="specification-tab" data-toggle="tab" href="#specification" role="tab"
                           aria-controls="specification" aria-selected="false">Ref.2 & Specification</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="specification2-tab" data-toggle="tab" href="#specification2" role="tab"
                           aria-controls="specification2" aria-selected="false">Specification2</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="special-rate-tab" data-toggle="tab" href="#special-rate" role="tab"
                           aria-controls="special-rate" aria-selected="false">Special Rate</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="refered-lab-tab" data-toggle="tab" href="#refered-lab" role="tab"
                           aria-controls="refered-lab" aria-selected="false">Refered Lab</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="group-test-tab" data-toggle="tab" href="#group-test" role="tab"
                           aria-controls="group-test" aria-selected="false">Set Group Test</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " id="result-template-tab" data-toggle="tab" href="#result-template"
                           role="tab" aria-controls="result-template" aria-selected="false">Result Template</a>
                    </li>
                </ul>
                <div class="tab-content" id="myTabContent">
                    <!--Test Details-->
                    <div class="tab-pane fade show active" id="testdetails" role="tabpanel" aria-labelledby="testdetails-tab">
                        <div class="row">
                            <div class="col-lg-9">
                                <div class="form-bg-div">
                                    <div class="row">
                                        <div class="col-lg-12 col-md-6 col-sm-6">
                                            <div class="field-item">
                                                <label for="">Test Name</label>
                                                <input type="text" id="tstName" name="tstName" autocomplete="off" class="dabutton">
                                                <input type="text" id="tstMstKey" name="tstMstKey" style="display:none">
                                                <button class="searchbtn" name="btnTstNameSrch" id="btnTstNameSrch" data-toggle="modal" data-target="#SearchLookupEntry" data-backdrop="static" data-keyboard="false" type="button">
                                                    <i class="fas fa-search"></i>
                                                </button>
                                            </div>
                                        </div>

                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <div class="field-item">
                                                <label for="">Test type</label>
                                                <input type="text" id="tstType" name="tstType">
                                                <input type="text" id="tstTypeID" name="tstTypeID" style="display:none">
                                                @*<button class="dots-btn" id="tstTypeSrch" name="tstTypeSrch">
                                                *@
                                                <button class="searchbtn" name="tstSrchType" id="tstSrchType" data-toggle="modal" data-target="#SearchLookupEntry" data-backdrop="static" data-keyboard="false" type="button">
                                                    <i class="fas fa-search"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <div class="field-item">
                                                <label for="">Department</label>
                                                <input type="text" id="tstDpt" name="tstDpt">
                                                <input type="text" id="tstDptID" name="tstDptID" style="display:none">
                                                <button class="searchbtn" name="tstDptSrch" id="tstDptSrch" data-toggle="modal" data-target="#SearchLookupEntry" data-backdrop="static" data-keyboard="false" type="button">
                                                    @*<button class="dots-btn" id="tstDptSrch" name="tstDptSrch">
                                                    *@
                                                    <i class="fas fa-search"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <div class="field-item">
                                                <label for="">Method</label>
                                                <input type="text" id="tstMthd" name="tstMthd">
                                                <input type="text" id="tstMthdID" name="tstMthdID" style="display:none">
                                                <button class="searchbtn" name="tstMthdSrch" id="tstMthdSrch" data-toggle="modal" data-target="#SearchLookupEntry" data-backdrop="static" data-keyboard="false" type="button">
                                                    @*<button class="dots-btn" id="tstMthdSrch" name="tstMthdSrch">
                                                    *@
                                                    <i class="fas fa-search"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <div class="field-item">
                                                <label for="">Division</label>
                                                <input type="text" id="tstDvsn" name="tstDvsn">
                                                <input type="text" id="tstDvsnID" name="tstDvsnID" style="display:none">
                                                <button class="searchbtn" name="tstDvsnSrch" id="tstDvsnSrch" data-toggle="modal" data-target="#SearchLookupEntry" data-backdrop="static" data-keyboard="false" type="button">
                                                    <i class="fas fa-search"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="col-lg-3 col-md-6 col-sm-6">
                                            <div class="field-item">
                                                <label for="">Rate</label>
                                                <input type="text" id="tstRate" name="tstRate" autocomplete="off">
                                            </div>
                                        </div>
                                        <div class="col-lg-3 col-md-6 col-sm-6">
                                            <div class="field-item">
                                                <label for="">Disc%</label>

                                                <input type="text" id="tstDiscPer" name="tstDiscPer" autocomplete="off">
                                            </div>
                                        </div>
                                        <div class="col-lg-3 col-md-6 col-sm-6">
                                            <div class="field-item">
                                                <label for="">Amount</label>
                                                <input type="text" id="tstAmnt" name="tstAmnt" autocomplete="off">
                                            </div>
                                        </div>
                                        <div class="col-lg-3 col-md-6 col-sm-6">
                                            <div class="field-item">
                                                <label for="">Unit</label>@*UnitSrch*@
                                                <input type="text" id="tstUnit" name="tstUnit">
                                                <input type="text" id="tstUnitID" name="tstUnitID" style="display:none">
                                                <button class="searchbtn" name="tstUnitSrch" id="tstUnitSrch" data-toggle="modal" data-target="#SearchLookupEntry" data-backdrop="static" data-keyboard="false" type="button">
                                                    @*<button class="dots-btn" id="tstUnitSrch" name="tstUnitSrch">
                                                    *@
                                                    <i class="fas fa-search"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="col-lg-12 col-md-6 col-sm-6">
                                            <div class="field-item">
                                                <label for="">Technology</label>
                                                <input type="text" id="tstTech" name="tstTech">
                                                <input type="text" id="tstTechID" name="tstTechID" style="display:none">
                                                <button class="searchbtn" name="tstTechSrch" id="tstTechSrch" data-toggle="modal" data-target="#SearchLookupEntry" data-backdrop="static" data-keyboard="false" type="button">
                                                    <i class="fas fa-search"></i>
                                                </button>
                                            </div>
                                        </div>

                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <div class="field-item">
                                                <label for="">Sample</label>
                                                <input type="text" id="tstSmple" name="tstSmple">
                                                <input type="text" id="tstSmpleID" name="tstSmpleID" style="display:none">
                                                <button class="searchbtn" name="tstSmpleSrch" id="tstSmpleSrch" data-toggle="modal" data-target="#SearchLookupEntry" data-backdrop="static" data-keyboard="false" type="button">
                                                    <i class="fas fa-search"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <div class="field-item">
                                                <label for="">Volume</label>
                                                <input type="text" id="tstVolume" name="tstVolume">
                                                <input type="text" id="tstVolumeID" name="tstVolumeID" style="display:none">
                                                <button class="searchbtn" name="tstVlmSrch" id="tstVlmSrch" data-toggle="modal" data-target="#SearchLookupEntry" data-backdrop="static" data-keyboard="false" type="button">
                                                    <i class="fas fa-search"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <div class="field-item">
                                                <label for="">Cut of time</label>
                                                <input type="text" id="tstCtofTime" name="tstCtofTime">
                                                <input type="text" id="tstCtofTimeID" name="tstCtofTimeID" style="display:none">
                                                <button class="searchbtn" name="tstCtofTimeSrch" id="tstCtofTimeSrch" data-toggle="modal" data-target="#SearchLookupEntry" data-backdrop="static" data-keyboard="false" type="button">
                                                    <i class="fas fa-search"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <div class="field-item">
                                                <label for="">Test Mode</label>
                                                <input type="text" id="tstMode" name="tstMode">
                                                <input type="text" id="tstModeID" name="tstModeID" style="display:none">
                                                <button class="searchbtn" name="tstModeSrch" id="tstModeSrch" data-toggle="modal" data-target="#SearchLookupEntry" data-backdrop="static" data-keyboard="false" type="button">
                                                    @*<button class="dots-btn" id="tstModeSrch" name="tstModeSrch">
                                                    *@
                                                    <i class="fas fa-search"></i>
                                                </button>
                                            </div>
                                        </div>

                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <div class="field-item">
                                                <label for="">Short Name</label>
                                                <input type="text" id="tstShrtName" name="tstShrtName">
                                            </div>
                                        </div>
                                        @*<div class="col-lg-6 col-md-6 col-sm-6">
                                            <div class="field-item">
                                            <label for="">Report on</label>
                                            <div class="select-editable">
                                            <select onchange="this.nextElementSibling.value=this.value">
                                            <option value=""></option>
                                            <option value="115x175 mm">115x175 mm</option>
                                            <option value="120x160 mm">120x160 mm</option>
                                            <option value="120x287 mm">120x287 mm</option>
                                            </select>
                                            <input type="text" name="format" value="" />
                                            </div>
                                            </div>
                                            </div>*@

                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <div class="field-item">
                                                <label for="">Report on</label>
                                                <div class="row report-on-div">
                                                    <div class="col-6">
                                                        @*<select name="tstRptOn" id="tstRptOn">
                                                                <option>1</option>
                                                                <option>5</option>
                                                                <option>10</option>
                                                                <option>15</option>
                                                                <option>30</option>
                                                                <option>60</option>
                                                                <option>120</option>
                                                            </select>*@
                                                        <input list="tstRptOn" name="tstRptOn" id="tstrpt">
                                                        <datalist id="tstRptOn" style="width: 100px;">
                                                            <option value="1">
                                                            <option value="5">
                                                            <option value="10">
                                                            <option value="15">
                                                            <option value="30">
                                                            <option value="60">
                                                            <option value="120">
                                                        </datalist>
                                                    </div>
                                                    <div class="col-6">
                                                        <select name="tstRptOnDMY" id="tstRptOnDMY">
                                                            <option style="display:none"></option>
                                                            <option>Hours</option>
                                                            <option>Minutes</option>

                                                            <option>Days</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-12 col-md-6 col-sm-6">
                                            <div class="field-item">

                                                <label for="">Perform at</label>
                                                <input type="text" name="tstPrfmAt" id="tstPrfmAt">
                                                <input type="text" id="tstPrfmAtID" name="tstPrfmAtID" style="display:none">
                                                <button class="searchbtn" name="tstPrfmAtSrch" id="tstPrfmAtSrch" data-toggle="modal" data-target="#SearchLookupEntry" data-backdrop="static" data-keyboard="false" type="button">
                                                    <i class="fas fa-search"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="col-lg-12">
                                            <div class="field-item">
                                                <label for="">Internal Note</label>
                                                <textarea class="internal-note" name="intrnlNote" id="intrnlNote" cols="30"
                                                          rows="10"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="form-bg-div liscode-style">
                                    <h4 name="liscode" id="liscode"></h4>
                                    <ul>
                                        <li>
                                            <label for="nabl-accredited">
                                                <input type="checkbox" name="nabl-accredited"
                                                       id="nabl-accredited"> NABL Accredited
                                            </label>
                                        </li>
                                        <li>
                                            <label for="send-sms">
                                                <input type="checkbox" name="send-sms" id="send-sms">
                                                Send SMS
                                            </label>
                                        </li>
                                        <li>
                                            <label for="sample-type">
                                                <input type="checkbox" name="sample-type" id="sample-type">
                                                Sample Type(Barcode)
                                            </label>
                                        </li>
                                        <li>
                                            <label for="free-test">
                                                <input type="checkbox" name="free-test" id="free-test"> Free
                                                Test
                                            </label>
                                        </li>
                                        <li>
                                            <label for="avoid-incentive">
                                                <input type="checkbox" name="avoid-incentive"
                                                       id="avoid-incentive"> Avoid Incentive
                                            </label>
                                        </li>
                                        <li>
                                            <label for="alphanumeric">
                                                <input type="checkbox" name="alphanumeric" id="alphanumeric">
                                                Alphanumeric Critical
                                            </label>
                                        </li>
                                        <li>
                                            <label for="common-technology">
                                                <input type="checkbox" name="common-technology"
                                                       id="common-technology">
                                                Common Technology
                                            </label>
                                        </li>
                                        <li>
                                            <label for="result-entry">
                                                <input type="checkbox" name="result-entry" id="result-entry">
                                                Avoid in Result Entry
                                            </label>
                                        </li>
                                        <li>
                                            <label for="hide-head">
                                                <input type="checkbox" name="hide-head" id="hide-head">
                                                Hide Head
                                            </label>
                                        </li>
                                        <li>
                                        </li>
                                        <li>
                                            @*<input type="checkbox" name="hide-head" id="hide-head">
                                                Hide Head*@
                                            <label id="usrChk"></label>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--Reference Range-->
                    <div class="tab-pane fade" id="reference-range" role="tabpanel"
                         aria-labelledby="reference-range-tab">
                        <label class="reference-rage"><input type="radio" name="refRngeChk" id="refRnge1" checked="checked"> Reference Range 1</label>
                        <div class="table-responsive  testmaster-table">
                            <table class="table table-bordered" id="refRnge1Tbl">
                                <thead>
                                    <tr>
                                        <th scope="col">Gender</th>
                                        <th scope="col" style="width: 7%;">Age From</th>
                                        <th scope="col">Age Type</th>
                                        <th scope="col">Age To</th>
                                        <th scope="col">Age Type</th>
                                        <th scope="col">Low</th>
                                        <th scope="col">High</th>
                                        <th scope="col">Crt.Low</th>
                                        <th scope="col">Crt.High</th>
                                        <th scope="col">Reference Range</th>
                                        <th scope="col"></th>
                                    </tr>
                                </thead>

                                <tbody>
                                    <tr>
                                        <td>
                                            <select name="Gender" id="Gender">
                                                <option>Both</option>
                                                <option>Male</option>
                                                <option>Female</option>
                                            </select>
                                        </td>
                                        <td><input type="text" name="ageFrm" id="ageFrm" autocomplete="off"></td>
                                        <td>
                                            <select name="ageFrmDMY" id="ageFrmDMY">
                                                <option>Years</option>
                                                <option>Months</option>
                                                <option>Days</option>
                                            </select>
                                        </td>
                                        <td><input type="text" name="ageTo" id="ageTo" autocomplete="off"></td>

                                        <td>
                                            <select name="ageToDMY" id="ageToDMY">
                                                <option>Years</option>
                                                <option>Months</option>
                                                <option>Days</option>
                                            </select>
                                        </td>
                                        <td><input type="text" name="txtLow" id="txtLow" autocomplete="off"></td>
                                        <td><input type="text" name="txtHigh" id="txtHigh" autocomplete="off"></td>
                                        <td><input type="text" name="txtCrtLow" id="txtCrtLow" autocomplete="off"></td>
                                        <td><input type="text" name="txtCrtHigh" id="txtCrtHigh" autocomplete="off"></td>
                                        <td><textarea name="txtRefRange1" id="txtRefRange1" cols="30" rows="10" autocomplete="off"></textarea></td>
                                        <td><button name="btnAddRefRng1" id="btnAddRefRng1"><i class="fas fa-plus"></i></button></td>
                                    </tr>
                                </tbody>
                            </table>
                            <table class="table table-bordered" id="refRnge1Tbl1">
                                <thead style="display:none">
                                    @*
                                        <tr>
                                        <th scope="col">Gender</th>
                                        <th scope="col">Age From</th>
                                        <th scope="col">Age Type</th>
                                        <th scope="col">Age To</th>
                                        <th scope="col">Age Type</th>
                                        <th scope="col">Low</th>
                                        <th scope="col">High</th>
                                        <th scope="col">Crt.Low</th>
                                        <th scope="col">Crt.High</th>
                                        <th scope="col">Reference Range</th>
                                        <th scope="col"></th>
                                        </tr>*@
                                </thead>

                                <tbody>
                                    <tr>
                                        <td style="width: 6.4%;" id="gndr" name="gndr"></td>
                                        <td style="width: 8%;" id="agefrm1" name="agefrm1"></td>
                                        <td style="width: 8.5%;" id="agefrmDMY1" name="agefrmDMY1"></td>
                                        <td style="width: 6.9%;" id="ageTo1" name="ageTo1"></td>
                                        <td style="width: 6%;" id="ageToDMY1" name="ageToDMY1"></td>
                                        <td style="width: 7.4%;" id="txtLow1" name="txtLow1"></td>
                                        <td style="width: 7.5%;" id="txtHigh1" name="txtHigh1"></td>
                                        <td style="width: 8.9%;" id="txtCrtLow1" name="txtCrtLow1"></td>
                                        <td style="width: 9%;" id="txtCrtHigh1" name="txtCrtHigh1"></td>
                                        <td style="width: 27.3%;" id="txtRefRanges" name="txtRefRanges"></td>
                                        @*
                                            <td style="width: 8%;" id="btnAddRefRngs" name="btnAddRefRngs"></td>*@
                                        <td style="width:3.6%"><button class="close-button" id="btnDelRefRng1"><i class="fas fa-times"></i></button></td>
                                        @*
                                            <td style="width: 8%;" id="btnAddRefRngs" name="btnAddRefRngs"><i class="fas fa-times"></i></td>*@
                                    </tr>

                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!--specification-->
                    <div class="tab-pane ref2-specification fade" id="specification" role="tabpanel"
                         aria-labelledby="specification-tab">

                        @*<input type="radio" id="LabNameCheck" style="margin-top:8px;" name="LabCheck" value="DATE" checked />
                            <label for="LabNameCheck" style="margin-top:1px;font-family:Tahoma,Arial;margin-right:0px">&nbsp; BranchName&nbsp;&nbsp;&nbsp;</label>*@

                        @*refRnge1*@
                        <label class="reference-rage"><input type="radio" name="refRngeChk" id="rfrnceRnge2"> Reference Range 2</label>
                        <textarea name="txtRefRange2" id="txtRefRange2" cols="30" rows="10"></textarea>
                        <h6>Specifications</h6>
                        <textarea name="txtSpecifications" id="txtSpecifications" cols="30" rows="10"></textarea>
                    </div>
                    <!--Specification 2-->
                    <div class="tab-pane specification2 fade" id="specification2" role="tabpanel"
                         aria-labelledby="specification2-tab">
                        <label>
                            Gender
                            <select name="cmbSpGender" id="cmbSpGender">
                                @*
                                    <option value="">Both</option>*@
                                <option>Male</option>
                                <option>Female</option>
                                <option>Both</option>
                            </select>
                        </label>
                        @*<textarea id="tiny"></textarea>*@
                        <textarea class="specCls" name="rtbSpecifications" id="rtbSpecifications" cols="30" rows="10" style="border-bottom:50px;"></textarea>
                    </div>
                    <!--Special Rate-->
                    <div class="tab-pane fade" id="special-rate" role="tabpanel" aria-labelledby="special-rate-tab">
                        <div class="table-responsive testmaster-table special-rate-table">
                            <table class="table table-bordered" id="splrRateTable">
                                <thead>
                                    <tr>
                                        <th scope="col">Sl.No.</th>
                                        <th scope="col">Corporate</th>
                                        <th scope="col">Rate</th>
                                        <th scope="col">Sp.Rate</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td name="splrSlno" id="splrSlno"></td>
                                        <td name="splrCrp" id="splrCrp"></td>
                                        <td name="splrRate" id="splrRate"></td>
                                        <td name="splrSPRate" id="splrSPRate"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!--Refered lab-->
                    <div class="tab-pane fade" id="refered-lab" role="tabpanel" aria-labelledby="refered-lab-tab">
                        <div class="table-responsive testmaster-table special-rate-table">
                            <table class="table table-bordered" id="RfrdLabAddTable">
                                <thead>
                                    <tr>
                                        <th scope="col">Sl.No.</th>
                                        <th scope="col">Refered Lab</th>
                                        <th scope="col">Sp.Rate</th>
                                        <th scope="col">Reported On</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>@*<input type="text" id="RfrdLabSlno1" name="RfrdLabSlno1" readonly />*@</td>
                                        <td><input type="text" id="RfrdLab1" name="RfrdLab1" /></td>
                                        <td><input type="text" id="RfrdLabSPRate1" name="RfrdLabSPRate1" /></td>
                                        <td><input type="text" id="RfrdLabRPon1" name="RfrdLabRPon1" /></td>
                                        <td name="TestRef_Id1" id="TestRef_Id1" style="display:none">@*<input type="text" id="TestRef_Id" name="TestRef_Id" />*@</td>
                                        <td name="TestRef_TestId1" id="TestRef_TestId1" style="display:none">@*<input type="text" id="TestRef_TestId" name="TestRef_TestId" />*@</td>
                                        <td><button id="addRfrd"><i class="fas fa-plus"></i></button></td>
                                    </tr>
                                </tbody>
                            </table>
                            <table class="table table-bordered" id="RfrdLabTable">
                                <thead>
                                    <tr style="display:none">
                                        <th scope="col">Sl.No.</th>
                                        <th scope="col">Refered Lab</th>
                                        <th scope="col">Sp.Rate</th>
                                        <th scope="col">Reported On</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td id="RfrdLabSlno" name="RfrdLabSlno" style="width:30px;"></td>
                                        <td id="RfrdLab" name="RfrdLab" style="width:313px;"></td>
                                        <td id="RfrdLabSPRate" name="RfrdLabSPRate" style="width:314px;"></td>
                                        <td id="RfrdLabRPon" name="RfrdLabRPon" style="width:313px;"></td>
                                        <td name="TestRef_Id" id="TestRef_Id" style="display:none">@*<input type="text" id="TestRef_Id" name="TestRef_Id" />*@</td>
                                        <td name="TestRef_TestId" id="TestRef_TestId" style="display:none">@*<input type="text" id="TestRef_TestId" name="TestRef_TestId" />*@</td>
                                        @*<td><button id="addRfrd"><i class="fas fa-plus"></i></button></td>*@
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!--group Test-->
                    <div class="tab-pane fade" id="group-test" role="tabpanel" aria-labelledby="group-test-tab">
                        <div class="table-responsive testmaster-table special-rate-table">
                            <table class="table table-bordered" id="SetGPTstTable1">
                                <thead>
                                    <tr>
                                        <th scope="col">Sl.No.</th>
                                        <th scope="col">Test Name</th>
                                        <th scope="col">Amount</th>
                                        <th scope="col">Set Order</th>
                                        <th scope="col" style="width: 90px;">Is Sub Head</th>
                                        <th scope="col">Department</th>
                                        <th scope="col">Sample type</th>
                                        <th scope="col"></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><input type="text" name="GpTstSlno1" id="GpTstSlno1" style="display:none" /></td>
                                        <td><input type="text" name="GpTstName1" id="GpTstName1" /></td>
                                        <td><input type="text" name="GpTstAmt1" id="GpTstAmt1" /></td>
                                        <td><input type="text" name="GpTstOrdr1" id="GpTstOrdr1" /></td>
                                        <td style="display:none"><input type="text" name="GpTstCode1" id="GpTstCode1" /></td>
                                        <td><input type="checkbox" class="issub-checkbox" name="GpTstHd1" id="GpTstHd1"></td>
                                        <td><input type="text" name="GpTstDpt1" id="GpTstDpt1" /></td>
                                        <td><input type="text" name="GpTstsmplType1" id="GpTstsmplType1" /></td>
                                        <td><button id="addGpTst"><i class="fas fa-plus"></i></button></td>
                                        <td style="display:none"><input type="text" name="TstKey1" id="TstKey1" /></td>

                                    </tr>
                                </tbody>
                            </table>

                            <table class="table table-bordered" id="SetGPTstTable">
                                <thead>
                                    <tr style="display:none">
                                        <th scope="col">Sl.No.</th>
                                        <th scope="col">Test Name</th>
                                        <th scope="col">Amount</th>
                                        <th scope="col">Set Order</th>
                                        <th scope="col" style="width: 90px;">Is Sub Head</th>
                                        <th scope="col">Department</th>
                                        <th scope="col">Sample type</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td name="GpTstSlno" id="GpTstSlno" style="width:20px;"></td>
                                        <td name="GpTstName" id="GpTstName" style="width:169px;"></td>
                                        <td name="GpTstAmt" id="GpTstAmt" style="width:175px;"></td>
                                        <td name="GpTstOrdr" id="GpTstOrdr" style="width:169px;"></td>
                                        <td style="display:none" name="GpTstCode" id="GpTstCode"></td>
                                        <td name="GpTstHds" id="GpTstHds" style="width:90px;"><input type="checkbox" class="issub-checkbox" name="GpTstHd" id="GpTstHd"></td>
                                        <td name="GpTstDpt" id="GpTstDpt" style="width:175px;"></td>
                                        <td style="display:none" name="TstKey" id="TstKey"></td>
                                        <td name="GpTstsmplType" id="GpTstsmplType" style="width:170px;"></td>
                                        <td style="display:none"></td>
                                        <td></td>

                                        <td style="display:none"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="row grouptest-row">
                            <div class="col-lg-6">
                                <button name="RmveRow" id="RmveRow">Remove Row</button>
                            </div>
                            <div class="col-lg-6">
                                <h5>Total <input type="text" name="TstTotal" id="TstTotal" autocomplete="off"></h5>
                                <h5>Group Amount <input type="text" name="GPAmt" id="GPAmt" autocomplete="off"></h5>
                            </div>
                        </div>
                    </div>
                    <!--Result Template-->
                    <div class="tab-pane fade " id="result-template" role="tabpanel"
                         aria-labelledby="result-template-tab">
                        <h6 class="results-heading">Results</h6>
                        <div class="table-responsive testmaster-table special-rate-table">
                            <table class="table table-bordered" id="RsltTmpltTable">
                                <thead>
                                    <tr>
                                        <th scope="col">Sl.No.</th>
                                        <th scope="col">Template</th>
                                        <th scope="col">Default</th>
                                        <th scope="col">CriticalSel</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td name="rsltTmpltSlno" id="rsltTmpltSlno"></td>
                                        <td name="rsltTmplt" id="rsltTmplt"></td>
                                        <td name="rsltTmpltDflt" id="rsltTmpltDflt"><input type="checkbox" class="issub-checkbox" name="TmpltDeflt" id="TmpltDeflt"></td>
                                        <td name="rsltTmpltCrtcl" id="rsltTmpltCrtcl"><input type="checkbox" class="issub-checkbox" name="CrtclSel" id="CrtclSel"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @***************************************TstNameSrch*************************************@
        <div class="modal fade" id="SearchLookupEntry" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
             aria-hidden="true" style="display:none">
            <div class="modal-dialog modal-dialog-centered modal-popup payment-modal" id="TstDtl" role="document">
                <div class="modal-content" id="widthContent">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Test Details</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="form-bg-div create-user-div">
                            <div class="row">
                                <div class="col-lg-3">
                                    <select id="SrchOptn" style="width: 90px;background:#dbe9f9;width: 100%;height: 26px;background: none;border: 1px solid #bed0e3;border-radius: 3px;outline: navajowhite;font-size: 14px;padding-left: 10px;background: #dbe9f9;">
                                        <option value="Test Name">Test Name</option>
                                        <option value="Key">Key</option>
                                        <option value="Department">Department</option>
                                        <option value="Sample Type">Sample Type</option>
                                        <option value="Rate">Rate</option>
                                    </select>
                                </div>
                                <div class="col-lg-9">
                                    <div class="" style="padding-left: 15px">
                                        <input type="text" id="tstDtl" name="tstDtl" style="background:#dbe9f9;width: 100%;height: 26px;background: none;border: 1px solid #bed0e3;border-radius: 3px;outline: navajowhite;font-size: 14px;padding-left: 10px;background: #dbe9f9;">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="container-fluid">
                                    <div class="table-responsive test-table">
                                        <table class="table-bordered" id="LkUpEntryTable">
                                            <thead>
                                                <tr>
                                                    <th scope="col" style="width: 380px;">TestName</th>
                                                    <th scope="col" style="width: 160px;">Department</th>
                                                    <th scope="col" style="width: 130px;">SampleType</th>
                                                    <th scope="col" style="width: 100px;">Rate</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="rowss" onclick="bckClr();">
                                                    <td id="tstname" name="tstname"></td>
                                                    <td id="tstdpt" name="tstdpt"></td>
                                                    <td id="smpltype" name="smpltype"></td>
                                                    <td id="tstrate" name="tstrate"></td>
                                                    <td id="tstKey" name="tstKey" style="display:none"></td>
                                                </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <footer class="main-footer footer-btns form1-footer testmaster-footer">
            <button class="bleu-btn" id="btnTstNew" name="btnTstNew"><i class="fas fa-plus"></i> New</button>
            @*<button class="bleu-btn"><i class="fas fa-arrow-left mr-0"></i></button>
                <button class="bleu-btn"><i class="fas fa-arrow-right mr-0"></i></button>*@
            <button class="bleu-btn" id="btnTstDelete"><i class="far fa-trash-alt mr-0"></i></button>
            @*<button class="bleu-btn"><i class="fas fa-plus"></i> Exit</button>*@
            <button class="submit-btn" id="btnTstSave">Save</button>
        </footer>
    </div>
}
@section Scripts{
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="~/Scripts/jquery-ui.js"></script>
    <script src="~/Scripts/jquery-1.10.2.js"></script>
    <script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <script src="/Scripts/jquery.validate.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="/Scripts/jquery.validate.unobtrusive.js"></script>
    <script src="~/Content/logintemplate/dist/js/adminlte.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-1.8.0.js"></script>
    <script src="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.8.22/jquery-ui.js"></script>
    @***********************************************************************************@
    <link href="~/Content/PaymentTemplate/dist/css/adminlte.min.css" rel="stylesheet" />
    <link href="~/Content/PaymentTemplate/dist/css/style.css" rel="stylesheet" />
    <script src="~/Content/PaymentTemplate/plugins/bootstrap/js/bootstrap.min.js"></script>
    <link href="~/Content/PaymentTemplate/plugins/fontawesome-free/css/all.min.css" rel="stylesheet" />
    <script src="~/scripts/PlatinumRegistration.js"></script>
    @**************************************tdyyy**********************@
    @*<script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>*@
    @*****************************************************************@
    <script src="~/Resources/dynamsoft.webtwain.initiate.js"></script>
    <script src="~/Scripts/DWTSample_ScanAndUpload.js"></script>
    <script src="~/Resources/dynamsoft.webtwain.config.js"></script>
    @************************************************************************@
    <script type="text/javascript" src="//cdn.asprise.com/scannerjs/scanner.js"></script>
    <script type="text/javascript" src="//asprise.azureedge.net/scannerjs/scanner.js"></script>
    <script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/5/jquery.tinymce.min.js"></script>
    @**************************************@
    @*<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>*@
    @****************************************@
    <script>
        //$("#imgFileUpload").click(function () {
        //    fileupload.click();
        //});
        //fileupload.change(function () {
        //    var fileName = $(this).val().split('\\')[$(this).val().split('\\').length - 1];
        //    //filePath.html("<b>Selected File: </b>" + fileName);
        //    var x = fileName;
        //});
        $('#myModal').on('shown.bs.modal', function () {
            $(this).find('#myText').focus();
        });
        @*<script type="text/javascript">*@
        var base64Img;
        $(function (event) {
            //event.preventDefault();
            var x = "";
            function readURL(input) {
                if (input.files && input.files[0]) {
                    var reader = new FileReader();
                    reader.onload = function (e) {
                        var x = e.target.result;
                        $('#imagetoUpload').attr('src', e.target.result);
                        base64Img = x;
                    }

                    //var v = $('#imagetoUpload').attr('src', input.target.result);
                    var file = $("input[type=file]").get(0).files[0];
                    reader.readAsDataURL(input.files[0]);
                    $('#productImage').val(input.files[0].name);
                }
            };
            $("#productImage").change(function () {
                readURL(this);
            });
            $("#uploadImg").click(function (event) {
                event.preventDefault();
                $("input[id='productImage']").click();
            });
        });
        $('#dctrSave').on('click', function (event) {
            event.preventDefault();
            if ($.trim($("#dctrName").val()) == "") {
                alert("Enter a Name for Doctor!");
                $("#dctrName").focus();
                return false;
            }
            else {
                var chk = $('#productImage').attr('src');
                var file = $('#productImage')[0].files[0];
                var sigName = file.name;
                var ImgBase64 = base64Img;
                //var geekss = e.target.files[0].name;
                var dctrlst = {};
                //   homeaddress hospaddress
                dctrlst.Chkbase64 = ImgBase64;
                dctrlst.imgSrch = sigName;
                dctrlst.dctr_pName = $("#dctrName").val();
                dctrlst.dctr_Key = $("#dctrKey").val();
                dctrlst.dctr_Code = $("#dctrCode").val();
                if ($("#homeaddress").is(':checked') === true) {
                    dctrlst.home_addrChk = true
                }
                if ($("#hospaddress").is(':checked') === true) {
                    dctrlst.hosp_addrChk = true
                }
                //dctrlst.home_addrChk = $("#dctrName").val();
                //dctrlst.hosp_addrChk = $("#dctrName").val();
                dctrlst.dctr_homeaddr = $("#homeAddr").val();
                dctrlst.dctr_hospaddr = $("#HospAddr").val();
                dctrlst.Incen = $("#incen").val();
                dctrlst.ndiscpat = $("#discount").val();
                dctrlst.DocMobile = $("#dctrMob").val();
                dctrlst.DocPhone = $("#dctrPhn").val();
                dctrlst.DocEmail = $("#dctrEmail").val();
                dctrlst.DocArea = $("#dctrArea").val();
                dctrlst.DocAreaKey = $("#dctrAreaKey").val();
                dctrlst.LandMark = $("#dctrLndMrk").val();
                //            male female
                if ($("#male").is(':checked') === true) {
                    dctrlst.optMale = true;
                }
                else if ($("#female").is(':checked') === true) {
                    dctrlst.optFemale = true;
                }
                dctrlst.DocConPrsn = $("#cntctPer").val();
                dctrlst.Catagory = $("#category").val();
                dctrlst.CatgKey = $("#categoryKey").val();
                dctrlst.DocSpecialised = $("#splzd").val();
                dctrlst.DocSplsdKey = $("#splzdKey").val();
                dctrlst.DocEdu = $("#eduDls").val();
                dctrlst.DocHosp = $("#wrkHosp").val();
                dctrlst.DocHospKey = $("#wrkHospKey").val();
                dctrlst.OthrNote = $("#OthrNote").val();
                dctrlst.txtPRO = $("#pro").val();
                dctrlst.doc_Dob = $("#dctrDOB").val();
                dctrlst.doc_Wedding = $("#wedDay").val();
                dctrlst.dctr_Note = $("#dctrNote").val();
                dctrlst.saveFlag = "New";
                if ($("#active").is(':checked') === true) {
                    dctrlst.chkActive = true;
                }
                else if ($("#employee").is(':checked') === true) {
                    dctrlst.chkEmployee = true;
                }
                else if ($("#email-report").is(':checked') === true) {
                    dctrlst.chkEmailReport = true;
                }
                $.ajax({
                    url: "/MasterTestDetails/DoctorSave",
                    type: "POST",
                    data: JSON.stringify(dctrlst),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            alert("Doctor Details Saved!");
                            //$("#imagetoUpload").
                            //$("#dctrDOB").attr("placeholder", "dd/MM/yyyy");
                            $("#imagetoUpload").attr("src", "dist/img/placeholder.jpg");
                            //window.location = "/MasterTestDetails/MasterTestDetail";
                            $('input[type=text],textarea').each(function () {
                                $(this).val('');
                            });
                            $('.uncheckall').click(function () {
                                $(":checkbox").attr("checked", false);
                            });
                            //$("#dctrDOB").val("dd/mm/yyyy");
                            //$("#wedDay").val("dd/mm/yyyy");
                            $('input[name=addr]:first').attr('checked', true);
                            $('input[name=gndr]:first').attr('checked', true);
                        }
                        else if (data.Result === "RmveGPTest") {
                            alert("Can't Allow ...Remove Group Test First....");
                        }
                        else {
                            alert("ERROR!");
                            window.location = "/MasterTestDetails/MasterTestDetail";
                        }
                    }
                })
            }
        })
        $('body').on('dblclick', '.dctrRow', function (evt) {
            event.preventDefault();
            var tableDtls = $("#DoctorModalLabel").text();
            if (tableDtls == "Doctors") {
                var dctrName = $(this).find("#dctrNames").text();
                var dctrKey = $(this).find("#dctrKeys").text();

                $.ajax({
                    url: "/MasterTestDetails/DoctorDls",
                    type: "POST",
                    data: JSON.stringify({ dctrName: dctrName, dctrKey: dctrKey }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var Base64 = data.Records[0].Chkbase64;
                            var changed = "data:image/jpeg;base64," + Base64;
                            //$("#imagetoUpload").attr('src', changed);
                            $('#imagetoUpload').attr('src', changed);
                            //$('#productImage').val(input.files[0].name);
                            //$("#imagetoUpload").val(data.Records[0].pb_sign);
                            $("#dctrName").val(data.Records[0].dctr_pName);
                            $("#dctrKey").val(data.Records[0].dctr_Key);
                            $("#dctrCode").val(data.Records[0].dctr_Code);
                            if (data.Records[0].home_addrChk == true) {
                                $('#homeaddress').attr('checked', true);
                            }
                            else if (data.Records[0].hosp_addrChk == true) {
                                $('#hospaddress').attr('checked', true);
                            }
                            $("#discount").val(data.Records[0].ndiscpat);
                            $("#incen").val(data.Records[0].Incen);
                            $("#homeAddr").val(data.Records[0].dctr_homeaddr);
                            $("#dctrMob").val(data.Records[0].DocMobile);
                            $("#dctrPhn").val(data.Records[0].DocPhone);
                            $("#dctrEmail").val(data.Records[0].DocEmail);
                            $("#dctrArea").val(data.Records[0].DocArea);
                            $("#dctrAreaKey").val(data.Records[0].DocAreaKey);
                            $("#dctrLndMrk").val(data.Records[0].LandMark);
                            $("#cntctPer").val(data.Records[0].DocConPrsn);
                            $("#wrkHospKey").val(data.Records[0].DocHospKey);
                            $("#category").val(data.Records[0].Catagory);
                            $("#categoryKey").val(data.Records[0].CatgKey);
                            $("#splzd").val(data.Records[0].DocSpecialised);
                            $("#splzdKey").val(data.Records[0].DocSplsdKey);
                            $("#eduDls").val(data.Records[0].DocEdu);
                            $("#wrkHosp").val(data.Records[0].DocHosp);
                            $("#HospAddr").val(data.Records[0].dctr_hospaddr);
                            $("#OthrNote").val(data.Records[0].OthrNote);
                            $("#pro").val(data.Records[0].txtPRO);
                            var splitDate = (data.Records[0].doc_Dob).split(" ");
                            var dobDate = (splitDate[0]).split("/");
                            var dd = dobDate[1];
                            var mm = dobDate[0];
                            var yy = dobDate[2];
                            $("#dctrDOB").val(dd + "/" + mm + "/" + yy);
                            if (data.Records[0].optMale == true) {
                                $('#male').attr('checked', true);
                            }
                            else if (data.Records[0].optFemale == true) {
                                $('#female').attr('checked', true);
                            }
                            var splitDate1 = (data.Records[0].doc_Wedding).split(" ");
                            var wedDate = (splitDate[0]).split("/");
                            var dd1 = wedDate[1];
                            var mm1 = wedDate[0];
                            var yy1 = wedDate[2];
                            $("#wedDay").val(dd1 + "/" + mm1 + "/" + yy1);
                            if (data.Records[0].chkActive == true) {
                                $('#active').attr('checked', true);
                            }
                            if (data.Records[0].chkEmailReport == true) {
                                $('#email-report').attr('checked', true);
                            }
                            if (data.Records[0].chkEmployee == true) {
                                $('#employee').attr('checked', true);
                            }
                            $("#dctrNote").val(data.Records[0].dctrNote);
                            $('#dctrClose').trigger('click');
                        }
                    }
                })
            }
            else if (tableDtls == "Area") {
                var areaName = $(this).find("#dctrNames").text();
                var areaKey = $(this).find("#dctrKeys").text();
                $("#dctrArea").val(areaName);
                $("#dctrAreaKey").val(areaKey);
                var tables = $("#dctrSrchLkupEntry").find('tbody');
                var row = $("#dctrSrchLkupEntry").find('tbody tr:first');
                $(tables).children('tr:not(:first)').remove();
                $(row).find("#dctrNames").text("");
                $(row).find("#dctrKeys").text("");
                $('#dctrClose').trigger('click');
            }
            else if (tableDtls == "Catagory") {
                var catgName = $(this).find("#dctrNames").text();
                var catgKey = $(this).find("#dctrKeys").text();
                $("#category").val(catgName);
                $("#categoryKey").val(catgKey);
                var tables = $("#dctrSrchLkupEntry").find('tbody');
                var row = $("#dctrSrchLkupEntry").find('tbody tr:first');
                $(tables).children('tr:not(:first)').remove();
                $(row).find("#dctrNames").text("");
                $(row).find("#dctrKeys").text("");
                $('#dctrClose').trigger('click');
            }
            else if (tableDtls == "Specialized") {//splzd splzdKey
                var splzd = $(this).find("#dctrNames").text();
                var splzdKey = $(this).find("#dctrKeys").text();
                $("#splzd").val(splzd);
                $("#splzdKey").val(splzdKey);
                var tables = $("#LkUpEntryTable").find('tbody');
                var row = $("#LkUpEntryTable").find('tbody tr:first');
                $(tables).children('tr:not(:first)').remove();
                $(row).find("#tstname").text("");
                $(row).find("#tstdpt").text("");
                $(row).find("#smpltype").text("");
                $(row).find("#tstrate").text("");
                $(row).find("#tstKey").text("");
                $('#dctrClose').trigger('click');
            }
            else if (tableDtls == "Hospital") {//wrkHosp wrkHospKey
                var hosp = $(this).find("#dctrNames").text();
                var hospKey = $(this).find("#dctrKeys").text();
                $("#wrkHosp").val(hosp);
                $("#wrkHospKey").val(hospKey);
                var tables = $("#LkUpEntryTable").find('tbody');
                var row = $("#LkUpEntryTable").find('tbody tr:first');
                $(tables).children('tr:not(:first)').remove();
                $(row).find("#tstname").text("");
                $(row).find("#tstdpt").text("");
                $(row).find("#smpltype").text("");
                $(row).find("#tstrate").text("");
                $(row).find("#tstKey").text("");
                $('#dctrClose').trigger('click');
            }
        })

        //$(function () {
        //    var fileupload = $("#FileUpload1");
        //    var filePath = $("#spnFilePath");
        //    var image = $("#imgFileUpload");
        //    image.click(function () {
        //        fileupload.click();
        //    });
        //    fileupload.change(function () {
        //        var fileName = $(this).val().split('\\')[$(this).val().split('\\').length - 1];
        //        //filePath.html("<b>Selected File: </b>" + fileName);
        //        $('#blah').attr('src', e.target.result);
        //    });
        //});
        //$(function () {
        //    //var fileupload = $("#FileUpload1");
        //    //var filePath = $("#spnFilePath");
        //    //var image = $("#imgFileUpload");
        //    image.click(function () {
        //        fileupload.click();
        //    });
        //    fileupload.change(function () {
        //        var fileName = $(this).val().split('\\')[$(this).val().split('\\').length - 1];
        //        filePath.html("<b>Selected File: </b>" + fileName);
        //    });
        //});
        $('#dctrDtl').keyup(function () {
            //var x = $('#SrchOptn :selected').text();
            var selectElement = document.querySelector('#dctrSrchOptn');
            var dcdls = selectElement.value;
            //$('#SrchOptn :selected').text();
            var dctrDtls = $('#dctrDtl').val();
            var table = $("#dctrLkUpEntryTable").find('tbody');
            var row = $("#dctrLkUpEntryTable").find('tbody tr:first');
            $(table).children('tr:not(:first)').remove();
            $(row).find("#dctrNames").text("");
            $(row).find("#dctrKeys").text("");
            var title = $("#DoctorModalLabel").text();
            //var tsdls = $('#SrchOptn option:selected').text();
            if (dcdls == 'Key' && dctrDtls != "" && title == 'Hospital') {
                $.ajax({
                    url: "/MasterTestDetails/DctrSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: dctrDtls, Check: 9 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#dctrLkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#dctrLkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#dctrLkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#dctrNames").text(tst.Mstr_Desc);
                                $(currentrow).find("#dctrKeys").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (dcdls == 'Hospital' && dctrDtls != "" && title == 'Hospital') {
                $.ajax({
                    url: "/MasterTestDetails/DctrSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: dctrDtls, Check: 8 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#dctrLkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#dctrLkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#dctrLkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#dctrNames").text(tst.Mstr_Desc);
                                $(currentrow).find("#dctrKeys").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (dcdls == 'Key' && dctrDtls != "" && title == 'Specialized') {
                $.ajax({
                    url: "/MasterTestDetails/DctrSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: dctrDtls, Check: 7 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#dctrLkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#dctrLkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#dctrLkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#dctrNames").text(tst.Mstr_Desc);
                                $(currentrow).find("#dctrKeys").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (dcdls == 'Specialized' && dctrDtls != "" && title == 'Specialized') {
                $.ajax({
                    url: "/MasterTestDetails/DctrSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: dctrDtls, Check: 6 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#dctrLkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#dctrLkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#dctrLkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#dctrNames").text(tst.Mstr_Desc);
                                $(currentrow).find("#dctrKeys").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (dcdls == 'Key' && dctrDtls != "" && title == 'Category') {
                $.ajax({
                    url: "/MasterTestDetails/DctrSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: dctrDtls, Check: 5 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#dctrLkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#dctrLkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#dctrLkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#dctrNames").text(tst.Mstr_Desc);
                                $(currentrow).find("#dctrKeys").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (dcdls == 'Category' && dctrDtls != "" && title == 'Category') {
                $.ajax({
                    url: "/MasterTestDetails/DctrSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: dctrDtls, Check: 4 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#dctrLkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#dctrLkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#dctrLkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#dctrNames").text(tst.Mstr_Desc);
                                $(currentrow).find("#dctrKeys").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (dcdls == 'Key' && dctrDtls != "" && title == 'Area') {
                $.ajax({
                    url: "/MasterTestDetails/DctrSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: dctrDtls, Check: 3 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#dctrLkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#dctrLkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#dctrLkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#dctrNames").text(tst.Mstr_Desc);
                                $(currentrow).find("#dctrKeys").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (dcdls == 'Area' && dctrDtls != "" && title == 'Area') {
                $.ajax({
                    url: "/MasterTestDetails/DctrSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: dctrDtls, Check: 2 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#dctrLkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#dctrLkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#dctrLkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#dctrNames").text(tst.Mstr_Desc);
                                $(currentrow).find("#dctrKeys").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (dcdls == 'Key' && dctrDtls != "" && title == 'Doctors') {
                $.ajax({
                    url: "/MasterTestDetails/DctrSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: dctrDtls, Check: 1 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#dctrLkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#dctrLkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#dctrLkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#dctrNames").text(tst.AhMst_pName);
                                $(currentrow).find("#dctrKeys").text(tst.AhMst_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (dcdls == 'Doctor' && dctrDtls != "" && title == 'Doctors') {
                $.ajax({
                    url: "/MasterTestDetails/DctrSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: dctrDtls, Check: 0 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#dctrLkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#dctrLkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#dctrLkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#dctrNames").text(tst.AhMst_pName);
                                $(currentrow).find("#dctrKeys").text(tst.AhMst_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
        })
        $('#dctrNew').on('click', function (event) {
            event.preventDefault();
            $('input[type=text],textarea').each(function () {
                $(this).val('');
            });
            //$('.uncheckall').click(function () {
            //    $(":checkbox").attr("checked", false);
            //});
            $('#incen').attr('checked', false);
            $('#active').attr('checked', false);
            $('#employee').attr('checked', false);
            $('#email-report').attr('checked', false);
            $('#discount').attr('checked', false);
            $("#dctrDOB").val("dd/mm/yyyy");
            $("#wedDay").val("dd/mm/yyyy");
            $("#imagetoUpload").attr("src", "dist/img/placeholder.jpg");
            $('input[name=addr]:first').attr('checked', true);
            $('input[name=gndr]:first').attr('checked', true);
        })
        $('#wedDay').datepicker({
            dateFormat: 'dd/mm/yy',
            changeMonth: true,
            changeYear: true,
            yearRange: '-90:+80',
            onSelect: function () {
                dateFormat: 'dd/mm/yy'
            }
        });
        $('#dctrDOB').datepicker({
            dateFormat: 'dd/mm/yy',
            changeMonth: true,
            changeYear: true,
            yearRange: '-90:+80',
            onSelect: function () {
                dateFormat: 'dd/mm/yy'
            }
        });
        $('#wrkHospSrch').on('click', function (event) {
            $(".payment-modal").css('width', 396);
            var tables = $("#dctrLkUpEntryTable").find('tbody');
            var table = $("#dctrLkUpEntryTable").find('tbody');
            var row = $("#dctrLkUpEntryTable").find('tbody tr:first');
            var trHead = $("#dctrLkUpEntryTable").find('thead tr');
            $(tables).children('tr:not(:first)').remove();
            $(row).find("#dctrNames").text("");
            $(row).find("#dctrKeys").text("");
            $(trHead).find('th:eq(0)').text("Hospital");
            $("#DoctorModalLabel").text("Hospital");
            var newOptions = {
                "Hospital": "Hospital",
                "Key": "Key"
            };

            var $el = $("#dctrSrchOptn");
            $el.empty();
            $.each(newOptions, function (key, value) {
                $el.append($("<option></option>")
                   .attr("value", value).text(key));
            });
            $.ajax({
                url: "/MasterTestDetails/dctrLookUpEntry",
                type: "POST",
                data: JSON.stringify({ SrchCode: 4 }),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                    if (data.Result === "OK") {
                        var currentrow = $("#dctrLkUpEntryTable").find('tbody tr');
                        $.each(data.Records, function (index, tst) {
                            if (index > 0) {
                                currentrow = $(currentrow).clone();
                                $("#dctrLkUpEntryTable tbody").append($(currentrow));
                                currentrow = $("#dctrLkUpEntryTable tbody tr:last");
                            }
                            $(currentrow).find("#dctrNames").text(tst.AhMst_pName);
                            $(currentrow).find("#dctrKeys").text(tst.AhMst_Key);
                        })

                    }
                    else {
                        alert(" details not found!");
                    }
                }
            })
        })
        $('#splzdSrch').on('click', function (event) {
            $(".payment-modal").css('width', 396);
            var tables = $("#dctrLkUpEntryTable").find('tbody');
            var table = $("#dctrLkUpEntryTable").find('tbody');
            var row = $("#dctrLkUpEntryTable").find('tbody tr:first');
            var trHead = $("#dctrLkUpEntryTable").find('thead tr');
            $(tables).children('tr:not(:first)').remove();
            $(row).find("#dctrNames").text("");
            $(row).find("#dctrKeys").text("");
            $(trHead).find('th:eq(0)').text("Specialized");
            $("#DoctorModalLabel").text("Specialized");
            var newOptions = {
                "Specialized": "Specialized",
                "Key": "Key"
            };

            var $el = $("#dctrSrchOptn");
            $el.empty();
            $.each(newOptions, function (key, value) {
                $el.append($("<option></option>")
                   .attr("value", value).text(key));
            });
            $.ajax({
                url: "/MasterTestDetails/dctrLookUpEntry",
                type: "POST",
                data: JSON.stringify({ SrchCode: 3 }),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                    if (data.Result === "OK") {
                        var currentrow = $("#dctrLkUpEntryTable").find('tbody tr');
                        $.each(data.Records, function (index, tst) {
                            if (index > 0) {
                                currentrow = $(currentrow).clone();
                                $("#dctrLkUpEntryTable tbody").append($(currentrow));
                                currentrow = $("#dctrLkUpEntryTable tbody tr:last");
                            }
                            $(currentrow).find("#dctrNames").text(tst.Mstr_Desc);
                            $(currentrow).find("#dctrKeys").text(tst.Mstr_Key);
                        })

                    }
                    else {
                        alert(" details not found!");
                    }
                }
            })
        })
        $('#catgSrch').on('click', function (event) {
            $(".payment-modal").css('width', 396);
            var tables = $("#dctrLkUpEntryTable").find('tbody');
            var table = $("#dctrLkUpEntryTable").find('tbody');
            var row = $("#dctrLkUpEntryTable").find('tbody tr:first');
            var trHead = $("#dctrLkUpEntryTable").find('thead tr');
            $(tables).children('tr:not(:first)').remove();
            $(row).find("#dctrNames").text("");
            $(row).find("#dctrKeys").text("");
            $(trHead).find('th:eq(0)').text("Catagory");
            $("#DoctorModalLabel").text("Catagory");
            var newOptions = {
                "Catagory": "Catagory",
                "Key": "Key"
            };

            var $el = $("#dctrSrchOptn");
            $el.empty();
            $.each(newOptions, function (key, value) {
                $el.append($("<option></option>")
                   .attr("value", value).text(key));
            });
            $.ajax({
                url: "/MasterTestDetails/dctrLookUpEntry",
                type: "POST",
                data: JSON.stringify({ SrchCode: 2 }),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                    if (data.Result === "OK") {
                        var currentrow = $("#dctrLkUpEntryTable").find('tbody tr');
                        $.each(data.Records, function (index, tst) {
                            if (index > 0) {
                                currentrow = $(currentrow).clone();
                                $("#dctrLkUpEntryTable tbody").append($(currentrow));
                                currentrow = $("#dctrLkUpEntryTable tbody tr:last");
                            }
                            $(currentrow).find("#dctrNames").text(tst.Mstr_Desc);
                            $(currentrow).find("#dctrKeys").text(tst.Mstr_Key);
                        })

                    }
                    else {
                        alert(" details not found!");
                    }
                }
            })
        })
        $('#dctrAreaSrch').on('click', function (event) {
            $(".payment-modal").css('width', 396);
            var tables = $("#dctrLkUpEntryTable").find('tbody');
            var table = $("#dctrLkUpEntryTable").find('tbody');
            var row = $("#dctrLkUpEntryTable").find('tbody tr:first');
            var trHead = $("#dctrLkUpEntryTable").find('thead tr');
            $(tables).children('tr:not(:first)').remove();
            $(row).find("#dctrNames").text("");
            $(row).find("#dctrKeys").text("");
            $(trHead).find('th:eq(0)').text("Area");
            $("#DoctorModalLabel").text("Area");
            var newOptions = {
                "Area": "Area",
                "Key": "Key"
            };

            var $el = $("#dctrSrchOptn");
            $el.empty(); // remove old options
            $.each(newOptions, function (key, value) {
                $el.append($("<option></option>")
                   .attr("value", value).text(key));
            });
            $.ajax({
                url: "/MasterTestDetails/dctrLookUpEntry",
                type: "POST",
                //data: JSON.stringify({}),
                data: JSON.stringify({ SrchCode: 1 }),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                    if (data.Result === "OK") {
                        var currentrow = $("#dctrLkUpEntryTable").find('tbody tr');
                        $.each(data.Records, function (index, tst) {
                            if (index > 0) {
                                currentrow = $(currentrow).clone();
                                $("#dctrLkUpEntryTable tbody").append($(currentrow));
                                currentrow = $("#dctrLkUpEntryTable tbody tr:last");
                            }
                            //dctrNames dctrKeys
                            $(currentrow).find("#dctrNames").text(tst.Mstr_Desc);
                            $(currentrow).find("#dctrKeys").text(tst.Mstr_Key);
                            //$(currentrow).find("#smpltype").text(tst.Sample);
                            //$(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                            //$(currentrow).find("#tstKey").text(tst.TstMst_Key);
                        })

                    }
                    else {
                        alert(" details not found!");
                    }
                }
            })
        })
        $('#dctrSrch').on('click', function (event) {
            $(".payment-modal").css('width', 396);
            var tables = $("#dctrLkUpEntryTable").find('tbody');
            var table = $("#dctrLkUpEntryTable").find('tbody');
            var row = $("#dctrLkUpEntryTable").find('tbody tr:first');
            var trHead = $("#dctrLkUpEntryTable").find('thead tr');
            $(tables).children('tr:not(:first)').remove();
            $(row).find("#dctrNames").text("");
            $(row).find("#dctrKeys").text("");
            //$(row).find("#smpltype").text("");
            //$(row).find("#tstrate").text("");
            //$(row).find("#tstKey").text("");
            $(trHead).find('th:eq(0)').text("Doctor");
            $("#DoctorModalLabel").text("Doctors");
            var newOptions = {
                "Doctor": "Doctor",
                "Key": "Key"
            };

            var $el = $("#dctrSrchOptn");
            $el.empty(); // remove old options
            $.each(newOptions, function (key, value) {
                $el.append($("<option></option>")
                   .attr("value", value).text(key));
            });
            $.ajax({
                url: "/MasterTestDetails/dctrLookUpEntry",
                type: "POST",
                //data: JSON.stringify({}),
                data: JSON.stringify({ SrchCode: 0 }),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                    if (data.Result === "OK") {
                        var currentrow = $("#dctrLkUpEntryTable").find('tbody tr');
                        $.each(data.Records, function (index, tst) {
                            if (index > 0) {
                                currentrow = $(currentrow).clone();
                                $("#dctrLkUpEntryTable tbody").append($(currentrow));
                                currentrow = $("#dctrLkUpEntryTable tbody tr:last");
                            }
                            //dctrNames dctrKeys
                            $(currentrow).find("#dctrNames").text(tst.AhMst_pName);
                            $(currentrow).find("#dctrKeys").text(tst.AhMst_Key);
                            //$(currentrow).find("#smpltype").text(tst.Sample);
                            //$(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                            //$(currentrow).find("#tstKey").text(tst.TstMst_Key);
                        })

                    }
                    else {
                        alert(" details not found!");
                    }
                }
            })
        })

        /////////////////////////////////////////////////////////////////////
        $('body').on('click', '.rowss', function (evt) {
            $(this).css("background", "#b6ff00");
            var siblings = $(this).siblings();
            $(siblings).css("background", "");

        })
        $('#tstRate').keyup(function (e) {
            if ($("#tstType").val() == "Group Test") {
                $("#GPAmt").val($('#tstRate').val());
            }
        })
        $('#tstDiscPer').keyup(function (e) {
            var discval = $('#tstDiscPer').val();
            var rate = $('#tstRate').val();
            if (discval == '') {
                var amnt = $('#tstAmnt').val(rate);
            }
            if (rate != '' && discval != '') {
                var perNum = parseFloat(discval) / 100;
                var medVal = perNum * parseFloat(rate);
                var DiscAmt = parseFloat(rate) - medVal;
                var amnt = $('#tstAmnt').val(DiscAmt);
            }
        })
        $('#addGpTst').on('click', function (event) {
            event.preventDefault();
            var index;
            var inx = 0;
            var addRfrd = $(this);
            var row = $(this).closest("tr");
            var pdetails = [];
            var isExist = false;
            var GpTstName1 = $("#GpTstName1").val();
            var GpTstAmt1 = $("#GpTstAmt1").val();
            var GpTstOrdr1 = $("#GpTstOrdr1").val();
            var GpTstCode1 = $("#GpTstCode1").val();
            var GpTstDpt1 = $("#GpTstDpt1").val();
            var GpTstsmplType1 = $("#GpTstsmplType1").val();
            var TstKey1 = $("#TstKey1").val();
            var gptstTblRow = $("#SetGPTstTable1").find('tbody tr');
            var tr = $("#SetGPTstTable").find('tbody tr');
            if ($("#GpTstName1").val() == "" && $("#GpTstCode1").val() == "") {
                alert("Enter valid details");
                $("#GpTstName1").focus();
            }
            else {
                $(tr).find("#GpTstName").each(function () {
                    var gpname = $(this).text();
                    if (GpTstName1 == gpname) {
                        isExist = true;
                    }
                })
                if (!isExist) {
                    var table = $("#SetGPTstTable").find('tbody tr');
                    var currentrow = $("#SetGPTstTable").find('tbody tr:last');
                    var i = 0;
                    if (($("#SetGPTstTable tbody tr").length) == 1 && $("#GpTstName").text() == '') {
                        index = 0;
                    }
                    else {
                        index = $("#SetGPTstTable tbody tr").length;
                    }

                    if (index > 0 && ($(currentrow).find("#GpTstName").text() != '')) {

                        currentrow = $(currentrow).clone();
                        $("#SetGPTstTable tbody").append($(currentrow));
                        currentrow = $("#SetGPTstTable tbody tr:last");
                    }
                    $(currentrow).find("#GpTstSlno").text(index + 1);
                    $(currentrow).find("#GpTstName").text(GpTstName1);
                    $(currentrow).find("#GpTstAmt").text(GpTstAmt1);
                    $(currentrow).find("#GpTstOrdr").text(index + 1);
                    $(currentrow).find("#GpTstCode").text(GpTstCode1);
                    $(currentrow).find("#GpTstDpt").text(GpTstDpt1);
                    var tstotal = $("#TstTotal").val();
                    if (tstotal == '') {
                        $("#TstTotal").val(parseInt(GpTstAmt1));
                    }
                    else {
                        $("#TstTotal").val(parseInt(tstotal) + parseInt(GpTstAmt1));
                    }
                    $(currentrow).find("#TstKey").val(TstKey1);
                    $(currentrow).find("#TstKey").text(TstKey1);
                    $(currentrow).find("#GpTstsmplType").text(GpTstsmplType1);
                    $(gptstTblRow).find("#GpTstName1").val("");
                    $(gptstTblRow).find("#GpTstAmt1").val("");
                    $(gptstTblRow).find("#GpTstOrdr1").val("");
                    $(gptstTblRow).find("#GpTstCode1").val("");
                    $(gptstTblRow).find("#GpTstDpt1").val("");
                    $(gptstTblRow).find("#GpTstsmplType1").val("");
                    $(gptstTblRow).find("#TstKey1").val("");
                }
                else {
                    alert("Already Existed!");
                    $(gptstTblRow).find("#GpTstName1").val("");
                    $(gptstTblRow).find("#GpTstAmt1").val("");
                    $(gptstTblRow).find("#GpTstOrdr1").val("");
                    $(gptstTblRow).find("#GpTstCode1").val("");
                    $(gptstTblRow).find("#GpTstDpt1").val("");
                    $(gptstTblRow).find("#GpTstsmplType1").val("");
                    $(gptstTblRow).find("#TstKey1").val("");
                    $("#GpTstName1").focus();
                }
            }
        })
        $(document).ready(function () {

            $('#SetGPTstTable1 tbody').hide();
            $('#SetGPTstTable tbody').hide();
        })
        $('#RmveRow').on('click', function (event) {
            event.preventDefault();
            var StGpTstRow = $("#SetGPTstTable tbody");
            var row = $("#SetGPTstTable tbody tr");
            if (row.length == 1 && $("#GpTstName").text() != '') {
                $(row).find("#GpTstSlno").text("");
                $(row).find("#GpTstsmplType").text("");
                $(row).find("#GpTstName").text("");
                $(row).find("#GpTstAmt").text("");
                $(row).find("#GpTstOrdr").text("");
                $(row).find("#GpTstCode").text("");
                $(row).find("#GpTstDpt").text("");
                $(row).find("#TstKey").text("");
            }
            else if (row.length == 1 && $("#GpTstName").text() == '') {
            }
            else {
                var lastrow = $("#SetGPTstTable tbody tr:last");
                var rate = parseInt($(lastrow).find("#GpTstAmt").text());
                var total = parseInt($("#TstTotal").val());
                var LastTotal = parseInt(total - rate);
                $("#TstTotal").val(LastTotal);
                $(StGpTstRow).children('tr:last').remove();
            }
        })
        $('#GpTstName1').autocomplete({
            autoFocus: true,
            source: function (request, response) {
                $.ajax({
                    type: 'GET',
                    url: "/MasterTestDetails/GpTstDlsSrch",
                    data: { term: $("#GpTstName1").val() },
                    contentType: "application/json; charset=utf-8",
                    dataType: 'json',
                    success: function (data) {
                        if (data.Result === "OK") {
                            response($.map(data.Record, function (Record) {
                                return {
                                    label: Record.TstMst_name,
                                    val: Record.TstMst_name,
                                    id: Record.TstMst_Key,
                                    value: Record.TstMst_Key
                                }
                            }))
                        }
                    }
                });
            },
            minLength: 1,
            select: function (event, ui) {
                $("#GpTstName1").val(ui.item.val);
                $("#TstKey1").val(ui.item.id);
                var tstname = $("#GpTstName1").val();
                var tstKey = $("#TstKey1").val();
                $.ajax({
                    type: 'GET',
                    url: "/MasterTestDetails/GpTstDls",
                    data: { term: tstname, tstkey: tstKey },
                    contentType: "application/json; charset=utf-8",
                    dataType: 'json',
                    success: function (data) {
                        console.log(data);
                        if (data.Result === "OK") {
                            var StGpTstRow = $("#SetGPTstTable1").find('tbody tr');
                            var index = $("#SetGPTstTable1 tbody tr").length;
                            $.each(data.Records, function (index, ref1) {
                                $(StGpTstRow).find("#GpTstName1").val(ref1.TstMst_name);
                                $(StGpTstRow).find("#GpTstAmt1").val(ref1.TstMst_Rate);
                                $(StGpTstRow).find("#GpTstCode1").val(ref1.StGrpTst_TstCode);
                                $(StGpTstRow).find("#GpTstOrdr1").val(ref1.StGrpTst_OrderBy);
                                $('#GpTstHd1').attr('checked', false);
                                if (ref1.StGrpTst_Sh == 0) {
                                    $('#GpTstHd1').attr('checked', false);
                                }
                                else {
                                    $('#GpTstHd1').attr('checked', true);
                                }
                                $(StGpTstRow).find("#GpTstDpt1").val(ref1.Department);
                                $(StGpTstRow).find("#GpTstsmplType1").val(ref1.Sample);
                            })
                        }
                    }
                });
            }
        });
        $("#SetGPTstTable tr td:eq(1)").keydown(function (e) {
            if (e.keyCode == 13) {
                e.preventDefault();
                var table = $("#SetGPTstTable tbody").find('tr:last');
                var currentrow = $("#SetGPTstTable tbody").find('tr:last');
                var inx = $(table).length;
                var GpTstName = $(table).find("#GpTstName").text();
                if (inx == 1 && GpTstName == '') {
                }
                else {
                    currentrow = $(currentrow).clone();
                    $("#SetGPTstTable tbody").append($(currentrow));
                    currentrow = $("#SetGPTstTable tbody tr:last");
                    $(StGpTstRow).find("#GpTstSlno").text(index + 1);
                    $(StGpTstRow).find("#GpTstName").text(ref1.TstMst_name);
                    $(StGpTstRow).find("#GpTstAmt").text(ref1.TstMst_Rate);
                    $(StGpTstRow).find("#GpTstCode").text(ref1.StGrpTst_TstCode);
                    $(StGpTstRow).find("#GpTstOrdr").text(ref1.StGrpTst_OrderBy);
                    if (ref1.StGrpTst_Sh == 0) {
                        $('#GpTstHd').attr('checked', false);
                    }
                    else {
                        $('#GpTstHd').attr('checked', true);
                    }
                    $(StGpTstRow).find("#GpTstDpt").text(ref1.Department);
                    $(StGpTstRow).find("#GpTstsmplType").text(ref1.Sample);
                }
            }
        })
        $("#addRfrd").on("click.addRfrd", function () {
            event.preventDefault();
            debugger;
            var index;
            var inx = 0;
            var addRfrd = $(this);
            var row = $(this).closest("tr");
            var pdetails = [];
            var isExist = false;
            var tr = $("#RfrdLabTable").find('tbody tr');
            var tstaddtbl = $("#RfrdLabAddTable").find('tbody tr:first');
            var RfrdLab1 = $(tstaddtbl).find("#RfrdLab1").val();
            var RfrdLabSPRate1 = $(tstaddtbl).find("#RfrdLabSPRate1").val();
            var RfrdLabRPon1 = $(tstaddtbl).find("#RfrdLabRPon1").val();
            var TestRef_Id1 = $(tstaddtbl).find("#TestRef_Id1").val();
            var TestRef_TestId1 = $(tstaddtbl).find("#TestRef_TestId1").val();
            if (RfrdLab1 == "" && RfrdLabSPRate1 == "") {
                alert("Enter valid details");
                $("#RfrdLab1").focus();
            }
            else {
                $(tr).find("#RfrdLab").each(function () {
                    var RfrdLabs = $(this).text();
                    if (RfrdLab1 == RfrdLabs) {
                        isExist = true;
                    }
                })
                if (!isExist) {
                    var table = $("#RfrdLabTable").find('tbody tr');
                    var currentrow = $("#RfrdLabTable").find('tbody tr:last');
                    var i = 0;
                    if (($("#RfrdLabTable tbody tr").length) == 1 && $("#RfrdLab").text() == '') {
                        index = 0;
                    }
                    else {
                        index = $("#RfrdLabTable tbody tr").length;
                    }
                    if (index > 0 && ($(currentrow).find("#RfrdLab").text() != '')) {
                        currentrow = $(currentrow).clone();
                        $("#RfrdLabTable tbody").append($(currentrow));
                        currentrow = $("#RfrdLabTable tbody tr:last");
                    }
                    $(currentrow).find("#RfrdLabSlno").text(index + 1);
                    $(currentrow).find("#RfrdLab").text(RfrdLab1);
                    $(currentrow).find("#RfrdLabSPRate").text(RfrdLabSPRate1);
                    $(currentrow).find("#RfrdLabRPon").text(RfrdLabRPon1);
                    $(currentrow).find("#TestRef_Id").text(TestRef_Id1);
                    $(currentrow).find("#TestRef_TestId").text(TestRef_TestId1);
                    $(tstaddtbl).find("#RfrdLab1").val("");
                    $(tstaddtbl).find("#RfrdLabSPRate1").val("");
                    $(tstaddtbl).find("#RfrdLabRPon1").val("");
                    $(tstaddtbl).find("#TestRef_Id1").val("");
                    $(tstaddtbl).find("#TestRef_TestId1").val("");
                }
                else {
                    alert("Already Existed!");
                    $(tstaddtbl).find("#RfrdLab1").val("");
                    $(tstaddtbl).find("#RfrdLabSPRate1").val("");
                    $(tstaddtbl).find("#RfrdLabRPon1").val("");
                    $(tstaddtbl).find("#TestRef_Id1").val("");
                    $(tstaddtbl).find("#TestRef_TestId1").val("");
                }
            }
            //******************************************************************
            //******************************************************************
        })
        $('#RfrdLab1').autocomplete({
            autoFocus: true,
            source: function (request, response) {
                $.ajax({
                    type: 'GET',
                    url: "/MasterTestDetails/RfrdLabSrch",
                    data: { term: $("#RfrdLab1").val() },
                    contentType: "application/json; charset=utf-8",
                    dataType: 'json',
                    success: function (data) {
                        console.log(data);
                        if (data.Result === "OK") {
                            response($.map(data.Records, function (Record) {
                                return {
                                    label: Record.TestRef_RefName,
                                    val: Record.TestRef_RefName,
                                    id: Record.TestRef_Id,
                                    value: Record.TestRef_RefName
                                }
                            }))
                        }
                    }
                });
            },
            minLength: 1,
            select: function (event, ui) {
                var currentrow = $("#RfrdLabAddTable").find('tbody tr:last');
                var previousrow = currentrow.prev();
                var ids = parseInt($(previousrow).find('#RfrdLabSlno1').val());
                if (isNaN(ids)) {
                    $(currentrow).find("#RfrdLabSlno1").val(1);
                }
                else {
                    var prev = parseInt(ids);
                    $(currentrow).find("#RfrdLabSlno1").val(prev + 1);
                }
                $("#TestRef_Id1").val(ui.item.id);
            }
        });
        $('#tstName').keyup(function () {
            var tstname = $('#tstName').val();
            if (tstname == "") {
                $('#PageHd').text("Test Details");
            }
            else {
                $('#PageHd').text(tstname);
            }
        })
        $('#btnTstSave').on('click', function (event) {
            event.preventDefault();
            var tstName = $("#tstName").val();
            if (tstName == "") {
                alert("Enter a Valid Name");
                $("#tstName").focus();
                return false;
            }
            else {
                if ($("#tstType").val() == "" || $("#tstTypeID").val() == 0) {
                    alert("Enter a Valid Test Type");
                    $("#tstType").focus();
                    return false;
                }
                else {
                    if ($("#tstDvsn").val() == "" || $("#tstDvsnID").val() == 0) {
                        alert("Enter a Valid Division");
                        $("#tstDvsn").focus();
                        return false;
                    }
                    else {
                        if ($("#tstSmple").val() == "" || $("#tstSmpleID").val() == 0) {
                            alert("Enter a Valid Sample Name");
                            $("#tstDvsn").focus();
                            return false;
                        }
                        else {
                            if ($("#tstDpt").val() == "" || $("#tstDptID").val() == 0) {
                            }
                            else {
                                var tstng = {};
                                tstng.TstMst_name = $("#tstName").val();
                                tstng.TstMst_Type = $("#tstType").val();
                                tstng.TstMst_TypeId = $("#tstTypeID").val();
                                tstng.Department = $("#tstDpt").val();
                                tstng.TstMst_DeptId = $("#tstDptID").val();
                                tstng.Method = $("#tstMthd").val();
                                tstng.TstMst_MthdId = $("#tstMthdID").val();
                                tstng.Division = $("#tstDvsn").val();
                                tstng.TstMst_DivId = $("#tstDvsnID").val();
                                tstng.TstMst_Rate = $("#tstRate").val();
                                tstng.TstMst_DiscPer = $("#tstDiscPer").val();
                                tstng.Unit = $("#tstUnit").val();
                                tstng.TstMst_UnitId = $("#tstUnitID").val();
                                tstng.Technology = $("#tstTech").val();
                                tstng.TstMst_TechId = $("#tstTechID").val();
                                tstng.Sample = $("#tstSmple").val();
                                tstng.TstMst_SmplId = $("#tstSmpleID").val();
                                tstng.Volume = $("#tstVolume").val();
                                tstng.TstMst_VolumeId = $("#tstVolumeID").val();
                                tstng.CtOfTime = $("#tstCtofTime").val();
                                tstng.TstMst_CtTimeID = $("#tstCtofTimeID").val();
                                tstng.TstMst_Mode = $("#tstMode").val();
                                tstng.TstMst_ModeID = $("#tstModeID").val();
                                tstng.TstMst_ShortName = $("#tstShrtName").val();
                                tstng.TstMst_ReportON = $("#tstRptOn option:selected").text();
                                tstng.TstMst_rptonDMH = $("#tstRptOnDMY option:selected").text();
                                tstng.PerformAt = $("#tstPrfmAt").val();
                                tstng.PerformatID = $("#tstPrfmAtID").val();
                                tstng.InternalNote = $("#intrnlNote").val();
                                tstng.RefRange2 = $("#txtRefRange2").val();
                                tstng.Specficatn = $("#txtSpecifications").val();
                                tstng.Gender = $("#cmbSpGender option:selected").text();
                                //var s = data.Record.rtbSpecifications;
                                var myContent = tinymce.get("rtbSpecifications").getContent();
                                tstng.rtbSpec = $("#rtbSpecifications").val();
                                tstng.lblUser = $("#usrChk").text();
                                tstng.SaveFlag = "New";

                                if ($("#avoid-incentive").is(':checked') === true) {
                                    tstng.chkIncen = true;
                                }
                                else {
                                    tstng.chkIncen = false;
                                }
                                if ($("#alphanumeric").is(':checked') === true) {
                                    tstng.chkStrgCritical = true;
                                }
                                else {
                                    tstng.chkStrgCritical = false;
                                }
                                if ($("#free-test").is(':checked') === true) {
                                    tstng.chkFreeTest = true;
                                }
                                else {
                                    tstng.chkFreeTest = false;
                                }
                                if ($("#send-sms").is(':checked') === true) {
                                    tstng.chkSendSMS = true;
                                }
                                else {
                                    tstng.chkSendSMS = false;
                                }
                                if ($("#sample-type").is(':checked') === true) {
                                    tstng.chkSampleBarcode = true;
                                }
                                else {
                                    tstng.chkSampleBarcode = false;
                                }
                                if ($("#nabl-accredited").is(':checked') === true) {
                                    tstng.chkNABL = true;
                                }
                                else {
                                    tstng.chkNABL = false;
                                }
                                if ($("#hide-head").is(':checked') === true) {
                                    tstng.chkHideHead = true;
                                }
                                else {
                                    tstng.chkHideHead = false;
                                }
                                if ($("#result-entry").is(':checked') === true) {
                                    tstng.AvoidRsltEntry = true;
                                }
                                else {
                                    tstng.AvoidRsltEntry = false;
                                }
                                if ($("#common-technology").is(':checked') === true) {
                                    tstng.ChkCommonTech = true;
                                }
                                else {
                                    tstng.ChkCommonTech = false;
                                }
                                //refRnge1 rfrnceRnge2
                                if ($("#refRnge1").is(':checked') === true) {
                                    tstng.optRef1 = true;
                                }
                                else if ($("#rfrnceRnge2").is(':checked') === true) {
                                    tstng.optRef1 = false;
                                }
                                ///************************************************reference-range
                                var refRnge1Rows = $("#refRnge1Tbl1 tbody tr");
                                var refRngDls = [];
                                $.each($(refRnge1Rows), function (index, row) {
                                    var refRng = {};
                                    refRng.Nrml_Sex = $(row).find('#gndr').text(),
                                    refRng.Nrml_Agefr = $(row).find('#agefrm1').text(),
                                    refRng.Nrml_Agetype = $(row).find('#agefrmDMY1').text(),
                                    refRng.Nrml_Ageto = $(row).find('#ageTo1').text(),
                                    refRng.Nrml_Agetypeto = $(row).find('#ageToDMY1').text(),
                                    refRng.Nrml_Low = $(row).find('#txtLow1').text(),
                                    refRng.Nrml_High = $(row).find('#txtHigh1').text(),
                                    refRng.Nrml_Crtlow = $(row).find('#txtCrtLow1').text(),
                                    refRng.Nrml_Crthigh = $(row).find('#txtCrtHigh1').text(),
                                    refRng.Nrml_Norage = $(row).find('#txtRefRanges').text()
                                    refRngDls.push(refRng);
                                })
                                tstng.refRange1 = refRngDls;
                                ///************************************************
                                var splrRateRows = $("#splrRateTable tbody tr");
                                var spclRateDls = [];
                                $.each($(splrRateRows), function (index, row) {
                                    var spclRate = {};
                                    spclRate.Corporate = $(row).find('#splrCrp').text(),
                                    spclRate.Rate = $(row).find('#splrRate').text(),
                                    spclRate.SplR_NRate = $(row).find('#splrSPRate').text()
                                    spclRateDls.push(spclRate);
                                })
                                tstng.specRate = spclRateDls; LkUpEntryTable
                                ///************************************************
                                var RfrdLabRows = $("#RfrdLabTable tbody tr");
                                var rfrdLbDls = [];
                                $.each($(RfrdLabRows), function (index, row) {
                                    var rfrdLb = {};
                                    rfrdLb.TestRef_RefName = $(row).find('#RfrdLab').text(),
                                    rfrdLb.TestRef_SpRate = $(row).find('#RfrdLabSPRate').text(),
                                    rfrdLb.TestRef_Id = $(row).find('#TestRef_Id').text(),
                                    rfrdLb.TestRef_ReportedOn = $(row).find('#RfrdLabRPon').text()
                                    rfrdLbDls.push(rfrdLb);
                                })
                                tstng.ReferedLabLst = rfrdLbDls;
                                ///************************************************
                                var StGpTstRows = $("#SetGPTstTable tbody tr");
                                var stGpTstDls = [];
                                $.each($(StGpTstRows), function (index, row) {
                                    var stGpTst = {};
                                    stGpTst.StGrpTst_TstCode = $(row).find('#GpTstCode').text(),
                                    stGpTst.TstMst_name = $(row).find('#GpTstName').text(),
                                    stGpTst.TstMst_Rate = $(row).find('#GpTstAmt').text(),
                                    stGpTst.TotalRate = $(row).find('#GpTstAmt').text(),
                                    stGpTst.StGrpTst_OrderBy = $(row).find('#GpTstOrdr').text(),
                                    stGpTst.StGrpTst_Sh = $(row).find('#GpTstSubHd').text(),
                                    stGpTst.Department = $(row).find('#GpTstDpt').text(),
                                    stGpTst.Sample = $(row).find('#GpTstsmplType').text()
                                    stGpTstDls.push(stGpTst);
                                })
                                tstng.SetGpTstLst = stGpTstDls;
                                ///************************************************
                                var RlstTmpltRows = $("#RsltTmpltTable tbody tr");
                                var RlstTmpltDls = [];
                                $.each($(RlstTmpltRows), function (index, row) {
                                    var RlstTmplt = {};
                                    RlstTmplt.Template = $(row).find('#rsltTmplt').text(),
                                    RlstTmplt.Default = $(row).find('#rsltTmpltDflt').text(),
                                    RlstTmplt.CriticalSel = $(row).find('#rsltTmpltCrtcl').text()
                                    RlstTmpltDls.push(RlstTmplt);
                                })
                                tstng.RsltTmpltLst = RlstTmpltDls;
                                ///************************************************
                                $.ajax({
                                    url: "/MasterTestDetails/TestMasterSave",
                                    type: "POST",
                                    data: JSON.stringify(tstng),
                                    contentType: "application/json; charset=utf-8",
                                    dataType: "json",
                                    success: function (data) {
                                        if (data.Result === "OK") {
                                            alert("Test Master Details Saved!");
                                            window.location = "/MasterTestDetails/MasterTestDetail";
                                        }
                                        else if (data.Result === "RmveGPTest") {
                                            alert("Can't Allow ...Remove Group Test First....");
                                        }
                                        else {
                                            alert("ERROR!");
                                            window.location = "/MasterTestDetails/MasterTestDetail";
                                        }
                                    }
                                })

                            }
                        }
                    }
                }
            }
        })
        //***************************************************
        $('#btnTstDelete').on('click', function (event) {
            var tstID = 0;
            var tstName = "";
            try {
                tstID = $("#tstMstKey").val();
                tstName = $("#tstName").val();
            }
            catch (exe) {
            }
            if (tstID == 0) {
                alert("No Data Found");
            }
            else {

                $.ajax({
                    url: "/MasterTestDetails/DeleteTest",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ testID: tstID, tstName: tstName }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            alert(tstName + "-Successfully Deleted!");
                            window.location = "/MasterTestDetails/MasterTestDetail";
                        }
                        else if (data.Result === "TrnsctnFound") {
                            alert("Cann't Delete..Transaction Found");
                        }
                        else if (data.Result === "InsertLogERROR") {
                            alert("ERROR");
                        }
                        else {
                            alert("ERROR");
                        }
                    }
                })
            }
        })
        $(document).on("click", "#btnDelRefRng1", function (e) {
            event.preventDefault();
            var btnDelRefRng1 = $(this);
            var row = $(this).closest("tr");
            var gndr = $(row).find("#gndr").text();
            var table = $("#refRnge1Tbl1").find('tbody tr');
            var length = table.length;
            if (length == 1 && ($(row).find("#gndr").text() == '')) {
                alert("There is no data found!");
            }
            else {
                if (confirm('Are you sure to Delete this Row')) {

                    if (length > 1 && ($(row).find("#gndr").text() != '')) {
                        var siblings = $(row).siblings();
                        $(row).remove();
                    }
                    else if (length == 1 && ($(row).find("#gndr").text() != '')) {
                        $(row).find("#gndr").text("");
                        $(row).find("#agefrm1").text("");
                        $(row).find("#agefrmDMY1").text("");
                        $(row).find("#ageTo1").text("");
                        $(row).find("#ageToDMY1").text("");
                        $(row).find("#txtLow1").text("");
                        $(row).find("#txtHigh1").text("");
                        $(row).find("#txtCrtLow1").text("");
                        $(row).find("#txtCrtHigh1").text("");
                        $(row).find("#txtRefRanges").text("");
                    }
                    else {

                    }
                }
                else {

                }
            }


        })
        $('#btnAddRefRng1').on('click', function (event) {
            event.preventDefault();
            var table = $("#refRnge1Tbl1").find('tbody tr');
            var Gender = $("#Gender option:selected").text();
            var ageFrm = $("#ageFrm").val();
            var ageFrmDMY = $("#ageFrmDMY option:selected").text();
            var ageTo = $("#ageTo").val();
            var ageToDMY = $("#ageToDMY option:selected").text();
            var txtLow = $("#txtLow").val();
            var txtHigh = $("#txtHigh").val();
            var txtCrtLow = $("#txtCrtLow").val();
            var txtCrtHigh = $("#txtCrtHigh").val();
            if (ageFrm != '' && txtLow != '' && txtHigh != '') {
                if (Gender == 'Male') {
                    var currentrow = $("#refRnge1Tbl1").find('tbody tr:last');
                    var index = table.length;
                    if (index > 0 && ($(currentrow).find("#gndr").text() != '')) {
                        currentrow = $(currentrow).clone();
                        $("#refRnge1Tbl1 tbody").append($(currentrow));
                        currentrow = $("#refRnge1Tbl1 tbody tr:last");
                    }
                    $(currentrow).find("#gndr").text("Male");
                    $(currentrow).find("#agefrm1").text(ageFrm);
                    $(currentrow).find("#agefrmDMY1").text(ageFrmDMY);
                    $(currentrow).find("#ageTo1").text(ageTo);
                    $(currentrow).find("#ageToDMY1").text(ageToDMY);
                    $(currentrow).find("#txtLow1").text(txtLow);
                    $(currentrow).find("#txtHigh1").text(txtHigh);
                    $(currentrow).find("#txtCrtLow1").text(txtCrtLow);
                    $(currentrow).find("#txtCrtHigh1").text(txtCrtHigh);
                    $(currentrow).find("#txtRefRanges").text(txtLow + " - " + txtHigh);
                    //********************************************************************
                    //$("#Gender option:selected").text("Both");
                    $("#ageFrm").val("");
                    $("#ageFrmDMY option:selected").text("Years");
                    $("#ageTo").val("");
                    $("#ageToDMY option:selected").text("Years");
                    $("#txtLow").val("");
                    $("#txtHigh").val("");
                    $("#txtCrtLow").val("");
                    $("#txtCrtHigh").val("");
                    $("#txtRefRange1").val("");
                }
                else if (Gender == 'Female') {
                    var currentrow = $("#refRnge1Tbl1").find('tbody tr:last');
                    var index = table.length;
                    if (index > 0 && ($(currentrow).find("#gndr").text() != '')) {
                        currentrow = $(currentrow).clone();
                        $("#refRnge1Tbl1 tbody").append($(currentrow));
                        currentrow = $("#refRnge1Tbl1 tbody tr:last");
                    }
                    $(currentrow).find("#gndr").text("Female");
                    $(currentrow).find("#agefrm1").text(ageFrm);
                    $(currentrow).find("#agefrmDMY1").text(ageFrmDMY);
                    $(currentrow).find("#ageTo1").text(ageTo);
                    $(currentrow).find("#ageToDMY1").text(ageToDMY);
                    $(currentrow).find("#txtLow1").text(txtLow);
                    $(currentrow).find("#txtHigh1").text(txtHigh);
                    $(currentrow).find("#txtCrtLow1").text(txtCrtLow);
                    $(currentrow).find("#txtCrtHigh1").text(txtCrtHigh);
                    $(currentrow).find("#txtRefRanges").text(txtLow + " - " + txtHigh);
                    //*********************************************************************
                    //$("#Gender option:selected").text("Both");
                    $("#ageFrm").val("");
                    $("#ageFrmDMY option:selected").text("Years");
                    $("#ageTo").val("");
                    $("#ageToDMY option:selected").text("Years");
                    $("#txtLow").val("");
                    $("#txtHigh").val("");
                    $("#txtCrtLow").val("");
                    $("#txtCrtHigh").val("");
                    $("#txtRefRange1").val("");
                }
                else if (Gender == 'Both') {
                    var currentrow = $("#refRnge1Tbl1").find('tbody tr:last');
                    //var currentrow2 = $("#refRnge1Tbl1").find('tbody tr');
                    var index = table.length;
                    if (index > 0 && ($(currentrow).find("#gndr").text() != '')) {
                        currentrow = $(currentrow).clone();
                        $("#refRnge1Tbl1 tbody").append($(currentrow));
                        currentrow = $("#refRnge1Tbl1 tbody tr:last");
                    }
                    $(currentrow).find("#gndr").text("Male");
                    $(currentrow).find("#agefrm1").text(ageFrm);
                    $(currentrow).find("#agefrmDMY1").text(ageFrmDMY);
                    $(currentrow).find("#ageTo1").text(ageTo);
                    $(currentrow).find("#ageToDMY1").text(ageToDMY);
                    $(currentrow).find("#txtLow1").text(txtLow);
                    $(currentrow).find("#txtHigh1").text(txtHigh);
                    $(currentrow).find("#txtCrtLow1").text(txtCrtLow);
                    $(currentrow).find("#txtCrtHigh1").text(txtCrtHigh);
                    $(currentrow).find("#txtRefRanges").text(txtLow + " - " + txtHigh);
                    var currentrow1 = $("#refRnge1Tbl1").find('tbody tr:last');
                    var index = table.length;
                    var gndr = $(currentrow1).find("#gndr").text();
                    if (index > 0 && ($(currentrow1).find("#gndr").text() != '')) {
                        currentrow1 = $(currentrow1).clone();
                        $("#refRnge1Tbl1 tbody").append($(currentrow1));
                        currentrow1 = $("#refRnge1Tbl1 tbody tr:last");
                    }
                    $(currentrow1).find("#gndr").text("Female");
                    $(currentrow1).find("#agefrm1").text(ageFrm);
                    $(currentrow1).find("#agefrmDMY1").text(ageFrmDMY);
                    $(currentrow1).find("#ageTo1").text(ageTo);
                    $(currentrow1).find("#ageToDMY1").text(ageToDMY);
                    $(currentrow1).find("#txtLow1").text(txtLow);
                    $(currentrow1).find("#txtHigh1").text(txtHigh);
                    $(currentrow1).find("#txtCrtLow1").text(txtCrtLow);
                    $(currentrow1).find("#txtCrtHigh1").text(txtCrtHigh);
                    $(currentrow1).find("#txtRefRanges").text(txtLow + " - " + txtHigh);
                    //*********************************************************************
                    //$("#Gender option:selected").text("Both");
                    $("#ageFrm").val("");
                    $("#ageFrmDMY option:selected").text("Years");
                    $("#ageTo").val("");
                    $("#ageToDMY option:selected").text("Years");
                    $("#txtLow").val("");
                    $("#txtHigh").val("");
                    $("#txtCrtLow").val("");
                    $("#txtCrtHigh").val("");
                    $("#txtRefRange1").val("");
                }

                //$(currentrow).find("#ageToDMY1").text(tst.TstMst_Key);

            }
            else {
                alert("Enter valid Referance Range");
            }
        })
        $('#txtLow').change(function () {
            var txtLow = $('#txtLow').val();
            var txtHigh = $('#txtHigh').val();
            var txtRefRange1;
            if (txtLow != '' && txtHigh != '') {
                txtRefRange1 = txtLow + " - " + txtHigh;
            }
            $("#txtRefRange1").val(txtRefRange1);
        })
        $('#txtHigh').change(function () {
            var txtLow = $('#txtLow').val();
            var txtHigh = $('#txtHigh').val();
            var txtRefRange1;
            if (txtLow != '' && txtHigh != '') {
                txtRefRange1 = txtLow + " - " + txtHigh;
            }
            $("#txtRefRange1").val(txtRefRange1);
        })
        $('textarea#rtbSpecifications').tinymce({
            selector: 'textarea',
            height: 500,
            menubar: false,
            plugins: [
              'advlist autolink lists link image charmap print preview anchor',
              'searchreplace visualblocks code fullscreen',
              'insertdatetime media table paste code help wordcount save'
            ],
            toolbar: 'undo redo | styleselect |FontSize| bold italic backcolor forecolor | alignleft aligncenter alignright alignjustify | table | fontselect| bullist numlist outdent indent | removeformat | underline StrikeThrough|',
            formats: {
                alignleft: { selector: 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img', classes: 'left' },
                aligncenter: { selector: 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img', classes: 'center' },
                alignright: { selector: 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img', classes: 'right' },
                alignjustify: { selector: 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img', classes: 'full' },
                bold: { inline: 'span', 'classes': 'bold' },
                italic: { inline: 'span', 'classes': 'italic' },
                underline: { inline: 'span', 'classes': 'underline', exact: true },
                strikethrough: { inline: 'del' },
                forecolor: { inline: 'span', classes: 'forecolor', styles: { color: '%value' } },
                hilitecolor: { inline: 'span', classes: 'hilitecolor', styles: { backgroundColor: '%value' } },
                custom_format: { block: 'h1', attributes: { title: 'Header' }, styles: { color: 'red' } }
            }
        });
        $("#rtbSpecifications").val("Checking");
        /////////////////////////////////////////////////////
        $('#btnTstNew').on('click', function (event) {
            event.preventDefault();
            window.location = "/MasterTestDetails/MasterTestDetail";
        })
        ////////////////////////////////////////////////////
        $('body').on('dblclick', '.rowss', function (evt) {
            event.preventDefault();
            var tableDtls = $("#exampleModalLabel").text();
            if (tableDtls == "Test Name") {
                var tstname = $(this).find("#tstname").text();
                $('#PageHd').text(tstname);
                var tstdpt = $(this).find("#tstdpt").text();
                var smpltype = $(this).find("#smpltype").text();
                var tstrate = $(this).find("#tstrate").text();
                var tstKey = $(this).find("#tstKey").text();
                var tstdls = {
                    TstMst_name: tstname,
                    TstMst_Key: tstKey,
                    Sample_Type: smpltype
                }
                $.ajax({
                    url: "/MasterTestDetails/TestMasterDls",
                    type: "POST",
                    data: JSON.stringify(tstdls),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {

                            if ((data.Record.optRef2Chk) == true) {
                                $('#rfrnceRnge2').attr('checked', true);
                                $('#refRnge1').attr('checked', false);
                            }
                            else {
                                $('#rfrnceRnge2').attr('checked', false);
                                $('#refRnge1').attr('checked', true);
                                //$('#refRnge1Tbl tbody').show();
                                //$('#refRnge1Tbl1 tbody').show();refRnge1
                            }
                            //if (data.Record.txtSpecifications == "" && data.Record.RfrnceSpec == "") {
                            //    $('#rfrnceRnge2').prop('checked', false);
                            //    $('#refRnge1').prop('checked', true);
                            //    $("#txtRefRange2").attr("readonly", "readonly");
                            //    $("#txtSpecifications").attr("readonly", "readonly");
                            //}
                            //else {
                            //    $('#refRnge1').prop('checked', false);
                            //    $('#rfrnceRnge2').prop('checked', true);
                            //    $("#txtRefRange2").removeAttr("readonly");
                            //    $("#txtSpecifications").removeAttr("readonly");
                            //    $('#refRnge1Tbl tbody').hide();
                            //    $('#refRnge1Tbl1 tbody').hide();
                            //}
                            var TstMstKey = data.Record.TestKey;
                            $("#tstName").val(data.Record.TestName);
                            $("#tstMstKey").val(data.Record.TestKey);
                            $("#tstType").val(data.Record.TestType);
                            $("#tstTypeID").val(data.Record.TestTypeID);
                            $("#tstDpt").val(data.Record.TestDpmnt);
                            $("#tstDptID").val(data.Record.TestDpmntID);
                            $("#tstMthd").val(data.Record.TestMethod);
                            $("#tstMthdID").val(data.Record.TestMethodID);
                            $("#tstDvsn").val(data.Record.TestDivision);
                            $("#tstDvsnID").val(data.Record.TestDivisionID);
                            $("#tstRate").val(data.Record.TestRate);
                            $("#tstDiscPer").val(data.Record.TestDiscPer);
                            if (data.Record.TestDiscPer != 0) {
                                var discval = $("#tstDiscPer").val();
                                var rate = $('#tstRate').val();
                                var perNum = parseFloat(discval) / 100;
                                var medVal = perNum * parseFloat(rate);
                                var DiscAmt = parseFloat(rate) - medVal;
                                var amnt = $('#tstAmnt').val(DiscAmt);
                            }
                            else {
                                $("#tstAmnt").val(data.Record.TestAmount);
                            }
                            //var discval = $("#tstDiscPer").val();
                            //var rate = $('#tstRate').val();
                            //if (discval == '') {
                            //    var amnt = $('#tstAmnt').val(DiscAmt);
                            //}
                            //if (rate != '') {
                            //    var perNum = parseFloat(discval) / 100;
                            //    var medVal = perNum * parseFloat(rate);
                            //    var DiscAmt = parseFloat(rate) - medVal;
                            //    var amnt = $('#tstAmnt').val(DiscAmt);
                            //}
                            //var rate =
                            //$("#tstAmnt").val(data.Record.TestAmount);
                            //}

                            $("#tstUnit").val(data.Record.TestUnit);
                            $("#tstUnitID").val(data.Record.TestUnitID);
                            $("#tstTech").val(data.Record.TestTech);
                            $("#tstTechID").val(data.Record.TestTechID);
                            $("#tstSmple").val(data.Record.TestSample);
                            $("#tstSmpleID").val(data.Record.TestSampleID);
                            $("#tstVolume").val(data.Record.TestVolume);
                            $("#tstVolumeID").val(data.Record.TestVolumeID);
                            $("#tstCtofTime").val(data.Record.TestCtTime);
                            $("#tstCtofTimeID").val(data.Record.TestCtTimeID);
                            $("#tstMode").val(data.Record.TestMode);
                            $("#tstModeID").val(data.Record.TestModeID);
                            $("#tstShrtName").val(data.Record.TestShortName);
                            $("#tstPrfmAt").val(data.Record.TestPerfmAT);
                            $("#tstPrfmAtID").val(data.Record.TestPerfmATID);
                            $("#intrnlNote").val(data.Record.TstInternalNote);
                            $("#tstrpt").val(data.Record.TestRptON);
                            $("#tstRptOnDMY option:Selected").text(data.Record.TestRptonMHD);
                            //tstRptOn tstRptOnDMY
                            var LisCode = "LIS Code: " + TstMstKey;
                            if (data.Record.TestType == "Group Test") {
                                $('#SetGPTstTable1 tbody').show();
                                $('#SetGPTstTable tbody').show();
                            }
                            $("#usrChk").text("");
                            $("#usrChk").text((data.Record.lblUser));
                            $("#liscode").text(data.Record.lblLISCode);
                            //
                            if ((data.Record.chkHideHead) == true) {
                                $('#hide-head').attr('checked', true);
                            }
                            else {
                                $('#hide-head').attr('checked', false);
                            }
                            if ((data.Record.chkAvoidRsltEntry) == true) {
                                $('#result-entry').attr('checked', true);
                            }
                            else {
                                $('#result-entry').attr('checked', false);
                            }
                            if ((data.Record.chkCommonTech) == true) {
                                $('#common-technology').attr('checked', true);
                            }
                            else {
                                $('#common-technology').attr('checked', false);
                            }
                            if ((data.Record.AlphaCritical) == true) {
                                $('#alphanumeric').attr('checked', true);
                            }
                            else {
                                $('#alphanumeric').attr('checked', false);
                            }
                            if ((data.Record.AvoidInc) == true) {
                                $('#avoid-incentive').attr('checked', true);
                            }
                            else {
                                $('#avoid-incentive').attr('checked', false);
                            }

                            if ((data.Record.FreeTst) == true) {
                                $('#free-test').attr('checked', true);
                            }
                            else {
                                $('#free-test').attr('checked', false);
                            }
                            if ((data.Record.SmplType) == true) {
                                $('#sample-type').attr('checked', true);
                            }
                            else {
                                $('#sample-type').attr('checked', false);
                            }
                            if ((data.Record.SndSMS) == true) {
                                $('#send-sms').attr('checked', true);
                            }
                            else {
                                $('#send-sms').attr('checked', false);
                            }
                            if ((data.Record.NABL) == true) {
                                $('#nabl-accredited').attr('checked', true);
                            }
                            else {
                                $('#nabl-accredited').attr('checked', false);
                            }
                            ///////////////////////////referanceRange1//////////////////////////////
                            var currentrow = $("#refRnge1Tbl1").find('tbody tr');
                            $.each(data.Record.rfrnceRangelist, function (index, ref1) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#refRnge1Tbl1 tbody").append($(currentrow));
                                    currentrow = $("#refRnge1Tbl1 tbody tr:last");
                                }
                                $(currentrow).find("#gndr").text(ref1.Nrml_Sex);
                                $(currentrow).find("#agefrm1").text(ref1.Nrml_Agefr);
                                $(currentrow).find("#agefrmDMY1").text(ref1.Nrml_Agetype);
                                $(currentrow).find("#ageTo1").text(ref1.Nrml_Ageto);
                                $(currentrow).find("#ageToDMY1").text(ref1.Nrml_Agetypeto);
                                $(currentrow).find("#txtLow1").text(ref1.Nrml_Low);
                                $(currentrow).find("#txtHigh1").text(ref1.Nrml_High);
                                $(currentrow).find("#txtCrtLow1").text(ref1.Nrml_Crtlow);
                                $(currentrow).find("#txtCrtHigh1").text(ref1.Nrml_Crthigh);
                                $(currentrow).find("#txtRefRanges").text(ref1.Nrml_Norage);
                                //$(currentrow).find("#ageToDMY1").text(tst.TstMst_Key);
                            })
                            //////////////////////////////Ref2Spec/////////////////////////////////

                            $("#txtRefRange2").val(data.Record.RfrnceSpec);
                            var s = data.Record.rtbSpecifications;
                            tinyMCE.activeEditor.setContent(s);
                            //////////////////////////////SpclRate/////////////////////////////////
                            var splrRow = $("#splrRateTable").find('tbody tr');
                            $.each(data.Record.spcRatelist, function (index, splr) {
                                if (index > 0) {
                                    splrRow = $(splrRow).clone();
                                    $("#splrRateTable tbody").append($(splrRow));
                                    splrRow = $("#splrRateTable tbody tr:last");
                                }
                                $(splrRow).find("#splrSlno").text((index + 1));
                                $(splrRow).find("#splrCrp").text(splr.Corporate);
                                $(splrRow).find("#splrRate").text(splr.Rate);
                                $(splrRow).find("#splrSPRate").text(splr.SplR_NRate);
                            })
                            //////////////////////////////ReferedLab//////////////////////////
                            var RefLabrow = $("#RfrdLabTable").find('tbody tr');
                            $.each(data.Record.referalList, function (index, ref1) {
                                if (index > 0) {

                                    RefLabrow = $(RefLabrow).clone();
                                    $("#RfrdLabTable tbody").append($(RefLabrow));
                                    RefLabrow = $("#RfrdLabTable tbody tr:last");
                                }
                                $(RefLabrow).find("#RfrdLabSlno").text(index + 1);
                                $(RefLabrow).find("#RfrdLab").text(ref1.TestRef_RefName);
                                $(RefLabrow).find("#RfrdLabSPRate").text(ref1.TestRef_SpRate);
                                $(RefLabrow).find("#RfrdLabRPon").text(ref1.TestRef_ReportedOn);
                                $(RefLabrow).find("#TestRef_Id").text(ref1.TestRef_Id);
                                $(RefLabrow).find("#TestRef_TestId").text(ref1.TestRef_TestID);
                            })
                            //////////////////////////////SET_GPtest////////////////////////////////
                            var StGpTstRow = $("#SetGPTstTable").find('tbody tr');
                            $.each(data.Record.gptstList, function (index, ref1) {
                                if (index > 0) {
                                    StGpTstRow = $(StGpTstRow).clone();
                                    $("#SetGPTstTable tbody").append($(StGpTstRow));
                                    StGpTstRow = $("#SetGPTstTable tbody tr:last");
                                }
                                $(StGpTstRow).find("#GpTstSlno").text(index + 1);
                                $(StGpTstRow).find("#GpTstName").text(ref1.TstMst_name);
                                $(StGpTstRow).find("#GpTstAmt").text(ref1.TstMst_Rate);
                                $(StGpTstRow).find("#GpTstCode").text(ref1.StGrpTst_TstCode);
                                $(StGpTstRow).find("#GpTstOrdr").text(ref1.StGrpTst_OrderBy);
                                if (ref1.StGrpTst_Sh == 0) {
                                    $('#GpTstHd').attr('checked', false);
                                }
                                else {
                                    $('#GpTstHd').attr('checked', true);
                                }
                                $(StGpTstRow).find("#GpTstDpt").text(ref1.Department);
                                $(StGpTstRow).find("#GpTstsmplType").text(ref1.Sample);
                            })
                            $("#TstTotal").val(data.Record.TotalRate);
                            $("#GPAmt").val(data.Record.txtGrpAmount);
                            ////////////////////////////////RsltTemplate////////////////////////////////
                            var RsltTmpltRow = $("#RsltTmpltTable").find('tbody tr');
                            $.each(data.Record.rsltTemplList, function (index, rsltTmp) {
                                if (index > 0) {
                                    RsltTmpltRow = $(RsltTmpltRow).clone();
                                    $("#RsltTmpltTable tbody").append($(RsltTmpltRow));
                                    RsltTmpltRow = $("#RsltTmpltTable tbody tr:last");
                                }
                                $(RsltTmpltRow).find("#rsltTmpltSlno").text(index + 1);
                                $(RsltTmpltRow).find("#rsltTmplt").text(rsltTmp.Template);
                                if (rsltTmp.Default == true) {
                                    $(RsltTmpltRow).find($('#rsltTmpltDflt').attr('checked', true));
                                }
                                else {
                                    $(RsltTmpltRow).find($('#rsltTmpltDflt').attr('checked', false));
                                }
                                /////
                                if (rsltTmp.CriticalSel == true) {
                                    $(RsltTmpltRow).find($('#rsltTmpltCrtcl').attr('checked', true));
                                }
                                else {
                                    $(RsltTmpltRow).find($('#rsltTmpltCrtcl').attr('checked', false));
                                }
                            })
                            var tables = $("#LkUpEntryTable").find('tbody');
                            var row = $("#LkUpEntryTable").find('tbody tr:first');
                            $(tables).children('tr:not(:first)').remove();
                            $(row).find("#tstname").text("");
                            $(row).find("#tstdpt").text("");
                            $(row).find("#smpltype").text("");
                            $(row).find("#tstrate").text("");
                            $(row).find("#tstKey").text("");
                            $('.close').trigger('click');
                        }
                        else {
                            alert("ERROR");
                            var tables = $("#LkUpEntryTable").find('tbody');
                            var row = $("#LkUpEntryTable").find('tbody tr:first');
                            $(tables).children('tr:not(:first)').remove();
                            $(row).find("#tstname").text("");
                            $(row).find("#tstdpt").text("");
                            $(row).find("#smpltype").text("");
                            $(row).find("#tstrate").text("");
                            $(row).find("#tstKey").text("");
                            $('.close').trigger('click');
                            //$('.close').trigger('click');
                        }
                    }
                })
            }

            else if (tableDtls == "Test Type") {
                var tsttype = $(this).find("#tstdpt").text();
                var tstKey = $(this).find("#tstKey").text();
                $("#tstType").val(tsttype);
                $("#tstTypeID").val(tstKey);
                if (tsttype == "Group Test") {
                    $('#SetGPTstTable1 tbody').show();
                    $('#SetGPTstTable tbody').show();
                }
                else {
                    $('#SetGPTstTable1 tbody').hide();
                    $('#SetGPTstTable tbody').hide();
                }
                var tables = $("#LkUpEntryTable").find('tbody');
                var row = $("#LkUpEntryTable").find('tbody tr:first');
                $(tables).children('tr:not(:first)').remove();
                $(row).find("#tstname").text("");
                $(row).find("#tstdpt").text("");
                $(row).find("#smpltype").text("");
                $(row).find("#tstrate").text("");
                $(row).find("#tstKey").text("");
                $('.close').trigger('click');
            }
            else if (tableDtls == "Method") {
                var tsttype = $(this).find("#tstdpt").text();
                var tstKey = $(this).find("#tstKey").text();
                $("#tstMthd").val(tsttype);
                $("#tstMthdID").val(tstKey);
                var tables = $("#LkUpEntryTable").find('tbody');
                var row = $("#LkUpEntryTable").find('tbody tr:first');
                $(tables).children('tr:not(:first)').remove();
                $(row).find("#tstname").text("");
                $(row).find("#tstdpt").text("");
                $(row).find("#smpltype").text("");
                $(row).find("#tstrate").text("");
                $(row).find("#tstKey").text("");
                $('.close').trigger('click');
            }
            else if (tableDtls == "Department") {
                var tsttype = $(this).find("#tstdpt").text();
                var tstKey = $(this).find("#tstKey").text();
                $("#tstDpt").val(tsttype);
                $("#tstDptID").val(tstKey);
                var tables = $("#LkUpEntryTable").find('tbody');
                var row = $("#LkUpEntryTable").find('tbody tr:first');
                $(tables).children('tr:not(:first)').remove();
                $(row).find("#tstname").text("");
                $(row).find("#tstdpt").text("");
                $(row).find("#smpltype").text("");
                $(row).find("#tstrate").text("");
                $(row).find("#tstKey").text("");
                $('.close').trigger('click');
            }
            else if (tableDtls == "Division") {
                var tsttype = $(this).find("#tstdpt").text();
                var tstKey = $(this).find("#tstKey").text();
                $("#tstDvsn").val(tsttype);
                $("#tstDvsnID").val(tstKey);
                var tables = $("#LkUpEntryTable").find('tbody');
                var row = $("#LkUpEntryTable").find('tbody tr:first');
                $(tables).children('tr:not(:first)').remove();
                $(row).find("#tstname").text("");
                $(row).find("#tstdpt").text("");
                $(row).find("#smpltype").text("");
                $(row).find("#tstrate").text("");
                $(row).find("#tstKey").text("");
                $('.close').trigger('click');
            }
            else if (tableDtls == "Unit") {
                var tsttype = $(this).find("#tstdpt").text();
                var tstKey = $(this).find("#tstKey").text();
                $("#tstUnit").val(tsttype);
                $("#tstUnitID").val(tstKey);
                var tables = $("#LkUpEntryTable").find('tbody');
                var row = $("#LkUpEntryTable").find('tbody tr:first');
                $(tables).children('tr:not(:first)').remove();
                $(row).find("#tstname").text("");
                $(row).find("#tstdpt").text("");
                $(row).find("#smpltype").text("");
                $(row).find("#tstrate").text("");
                $(row).find("#tstKey").text("");
                $('.close').trigger('click');
            }
            else if (tableDtls == "Technology") {
                var tsttype = $(this).find("#tstdpt").text();
                var tstKey = $(this).find("#tstKey").text();
                $("#tstTech").val(tsttype);
                $("#tstTechID").val(tstKey);
                var tables = $("#LkUpEntryTable").find('tbody');
                var row = $("#LkUpEntryTable").find('tbody tr:first');
                $(tables).children('tr:not(:first)').remove();
                $(row).find("#tstname").text("");
                $(row).find("#tstdpt").text("");
                $(row).find("#smpltype").text("");
                $(row).find("#tstrate").text("");
                $(row).find("#tstKey").text("");
                $('.close').trigger('click');
            }
            else if (tableDtls == "Sample") {
                var tsttype = $(this).find("#tstdpt").text();
                var tstKey = $(this).find("#tstKey").text();
                $("#tstSmple").val(tsttype);
                $("#tstSmpleID").val(tstKey);
                var tables = $("#LkUpEntryTable").find('tbody');
                var row = $("#LkUpEntryTable").find('tbody tr:first');
                $(tables).children('tr:not(:first)').remove();
                $(row).find("#tstname").text("");
                $(row).find("#tstdpt").text("");
                $(row).find("#smpltype").text("");
                $(row).find("#tstrate").text("");
                $(row).find("#tstKey").text("");
                $('.close').trigger('click');
            }
            else if (tableDtls == "Volume") {
                var tsttype = $(this).find("#tstdpt").text();
                var tstKey = $(this).find("#tstKey").text();
                $("#tstVolume").val(tsttype);
                $("#tstVolumeID").val(tstKey);
                var tables = $("#LkUpEntryTable").find('tbody');
                var row = $("#LkUpEntryTable").find('tbody tr:first');
                $(tables).children('tr:not(:first)').remove();
                $(row).find("#tstname").text("");
                $(row).find("#tstdpt").text("");
                $(row).find("#smpltype").text("");
                $(row).find("#tstrate").text("");
                $(row).find("#tstKey").text("");
                $('.close').trigger('click');
            }
            else if (tableDtls == "Cut Of Time") {
                var tsttype = $(this).find("#tstdpt").text();
                var tstKey = $(this).find("#tstKey").text();
                $("#tstCtofTime").val(tsttype);
                $("#tstCtofTimeID").val(tstKey);
                var tables = $("#LkUpEntryTable").find('tbody');
                var row = $("#LkUpEntryTable").find('tbody tr:first');
                $(tables).children('tr:not(:first)').remove();
                $(row).find("#tstname").text("");
                $(row).find("#tstdpt").text("");
                $(row).find("#smpltype").text("");
                $(row).find("#tstrate").text("");
                $(row).find("#tstKey").text("");
                $('.close').trigger('click');
            }
            else if (tableDtls == "Test Mode") {
                var tsttype = $(this).find("#tstdpt").text();
                var tstKey = $(this).find("#tstKey").text();
                $("#tstMode").val(tsttype);
                $("#tstModeID").val(tstKey);
                $('.close').trigger('click');
            }
            else if (tableDtls == "Perform at") {
                var tsttype = $(this).find("#tstdpt").text();
                var tstKey = $(this).find("#tstKey").text();
                $("#tstPrfmAt").val(tsttype);
                $("#tstPrfmAtID").val(tstKey);
                var tables = $("#LkUpEntryTable").find('tbody');
                var row = $("#LkUpEntryTable").find('tbody tr:first');
                $(tables).children('tr:not(:first)').remove();
                $(row).find("#tstname").text("");
                $(row).find("#tstdpt").text("");
                $(row).find("#smpltype").text("");
                $(row).find("#tstrate").text("");
                $(row).find("#tstKey").text("");
                $('.close').trigger('click');
            }

        })
        $('#tstPrfmAtSrch').on('click', function (event) {//perform at
            //$("#widthContent").css("width", "67%");
            $(".payment-modal").css('width', 460);
            var table = $("#LkUpEntryTable").find('tbody tr');
            var tables = $("#LkUpEntryTable").find('tbody');
            var row = $("#LkUpEntryTable").find('tbody tr:first');
            $(tables).children('tr:not(:first)').remove();
            $(row).find("#tstname").text("");
            $(row).find("#tstdpt").text("");
            $(row).find("#smpltype").text("");
            $(row).find("#tstrate").text("");
            $(row).find("#tstKey").text("");
            $("#exampleModalLabel").text("Perform at");
            //$('th#install').addClass('hide');
            var rows = $("#LkUpEntryTable").find('thead tr');
            //$(row).find('th:first').addClass('hide');
            //$('td:nth-child(2),th:nth-child(2)').hide();
            $(rows).find('th:eq(1)').hide();
            $(rows).find('th:eq(2)').hide();
            $(rows).find('th:eq(3)').hide();
            $(table).find('td:first').hide();
            $(table).find('td:eq(2)').hide();
            $(table).find('td:eq(3)').hide();
            $(rows).find('th:eq(0)').text("Test type");
            var newOptions = {
                "Test type": "Test type",
                "Key": "Key"
            };

            var $el = $("#SrchOptn");
            $el.empty(); // remove old options
            $.each(newOptions, function (key, value) {
                $el.append($("<option></option>")
                   .attr("value", value).text(key));
            });
            $.ajax({
                url: "/MasterTestDetails/LookUpEntry",
                type: "POST",
                //data: JSON.stringify({}),
                data: JSON.stringify({ SrchCode: 11 }),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                    if (data.Result === "OK") {
                        var currentrow = $("#LkUpEntryTable").find('tbody tr');
                        $.each(data.Records, function (index, tst) {
                            if (index > 0) {
                                currentrow = $(currentrow).clone();
                                $("#LkUpEntryTable tbody").append($(currentrow));
                                currentrow = $("#LkUpEntryTable tbody tr:last");
                            }
                            //tstname tstdpt smpltype tstrate  tstKey
                            //$(currentrow).find("#tstname").text(tst.TstMst_name);
                            $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                            //$(currentrow).find("#smpltype").text(tst.Sample);
                            //$(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                            $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                        })
                    }
                    else {
                        alert(" details not found!");
                    }
                }
            })
        })
        $('#tstModeSrch').on('click', function (event) {//testmode
            //$("#widthContent").css("width", "67%");
            $(".payment-modal").css('width', 490);
            var table = $("#LkUpEntryTable").find('tbody tr');
            var tables = $("#LkUpEntryTable").find('tbody');
            var row = $("#LkUpEntryTable").find('tbody tr:first');
            $(tables).children('tr:not(:first)').remove();
            $(row).find("#tstname").text("");
            $(row).find("#tstdpt").text("");
            $(row).find("#smpltype").text("");
            $(row).find("#tstrate").text("");
            $(row).find("#tstKey").text("");
            $("#exampleModalLabel").text("Test Mode");
            //$('th#install').addClass('hide');
            var rows = $("#LkUpEntryTable").find('thead tr');
            //$(row).find('th:first').addClass('hide');
            //$('td:nth-child(2),th:nth-child(2)').hide();
            $(rows).find('th:eq(1)').hide();
            $(rows).find('th:eq(2)').hide();
            $(rows).find('th:eq(3)').hide();
            $(table).find('td:first').hide();
            $(table).find('td:eq(2)').hide();
            $(table).find('td:eq(3)').hide();
            $(rows).find('th:eq(0)').text("Test Mode");
            var newOptions = {
                "Test Mode": "Test Mode",
                "Key": "Key"
            };

            var $el = $("#SrchOptn");
            $el.empty(); // remove old options
            $.each(newOptions, function (key, value) {
                $el.append($("<option></option>")
                   .attr("value", value).text(key));
            });
            $.ajax({
                url: "/MasterTestDetails/LookUpEntry",
                type: "POST",
                //data: JSON.stringify({}),
                data: JSON.stringify({ SrchCode: 10 }),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                    if (data.Result === "OK") {
                        var currentrow = $("#LkUpEntryTable").find('tbody tr');
                        $.each(data.Records, function (index, tst) {
                            if (index > 0) {
                                currentrow = $(currentrow).clone();
                                $("#LkUpEntryTable tbody").append($(currentrow));
                                currentrow = $("#LkUpEntryTable tbody tr:last");
                            }
                            //tstname tstdpt smpltype tstrate  tstKey
                            //$(currentrow).find("#tstname").text(tst.TstMst_name);
                            $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                            //$(currentrow).find("#smpltype").text(tst.Sample);
                            //$(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                            $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                        })
                    }
                    else {
                        alert(" details not found!");
                    }
                }
            })
        })
        $('#tstCtofTimeSrch').on('click', function (event) {//cutOfTime
            //$("#widthContent").css("width", "67%");
            $(".payment-modal").css('width', 530);
            var table = $("#LkUpEntryTable").find('tbody tr');
            var tables = $("#LkUpEntryTable").find('tbody');
            var row = $("#LkUpEntryTable").find('tbody tr:first');
            $(tables).children('tr:not(:first)').remove();
            $(row).find("#tstname").text("");
            $(row).find("#tstdpt").text("");
            $(row).find("#smpltype").text("");
            $(row).find("#tstrate").text("");
            $(row).find("#tstKey").text("");
            $("#exampleModalLabel").text("Cut Of Time");
            //$('th#install').addClass('hide');
            var rows = $("#LkUpEntryTable").find('thead tr');
            //$(row).find('th:first').addClass('hide');
            //$('td:nth-child(2),th:nth-child(2)').hide();
            $(rows).find('th:eq(1)').hide();
            $(rows).find('th:eq(2)').hide();
            $(rows).find('th:eq(3)').hide();
            $(table).find('td:first').hide();
            $(table).find('td:eq(2)').hide();
            $(table).find('td:eq(3)').hide();
            $(rows).find('th:eq(0)').text("Cut Of Time");
            var newOptions = {
                "Cut Of Time": "Cut Of Time",
                "Key": "Key"
            };

            var $el = $("#SrchOptn");
            $el.empty(); // remove old options
            $.each(newOptions, function (key, value) {
                $el.append($("<option></option>")
                   .attr("value", value).text(key));
            });
            $.ajax({
                url: "/MasterTestDetails/LookUpEntry",
                type: "POST",
                //data: JSON.stringify({}),
                data: JSON.stringify({ SrchCode: 9 }),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                    if (data.Result === "OK") {
                        var currentrow = $("#LkUpEntryTable").find('tbody tr');
                        $.each(data.Records, function (index, tst) {
                            if (index > 0) {
                                currentrow = $(currentrow).clone();
                                $("#LkUpEntryTable tbody").append($(currentrow));
                                currentrow = $("#LkUpEntryTable tbody tr:last");
                            }
                            //tstname tstdpt smpltype tstrate  tstKey
                            //$(currentrow).find("#tstname").text(tst.TstMst_name);
                            $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                            //$(currentrow).find("#smpltype").text(tst.Sample);
                            //$(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                            $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                        })
                    }
                    else {
                        alert(" details not found!");
                    }
                }
            })
        })
        $('#tstVlmSrch').on('click', function (event) {//volume
            //$("#widthContent").css("width", "67%");
            $(".payment-modal").css('width', 420);
            var table = $("#LkUpEntryTable").find('tbody tr');
            var tables = $("#LkUpEntryTable").find('tbody');
            var row = $("#LkUpEntryTable").find('tbody tr:first');
            $(tables).children('tr:not(:first)').remove();
            $(row).find("#tstname").text("");
            $(row).find("#tstdpt").text("");
            $(row).find("#smpltype").text("");
            $(row).find("#tstrate").text("");
            $(row).find("#tstKey").text("");
            $("#exampleModalLabel").text("Volume");
            //$('th#install').addClass('hide');
            var rows = $("#LkUpEntryTable").find('thead tr');
            //$(row).find('th:first').addClass('hide');
            //$('td:nth-child(2),th:nth-child(2)').hide();
            $(rows).find('th:eq(1)').hide();
            $(rows).find('th:eq(2)').hide();
            $(rows).find('th:eq(3)').hide();
            $(table).find('td:first').hide();
            $(table).find('td:eq(2)').hide();
            $(table).find('td:eq(3)').hide();
            $(rows).find('th:eq(0)').text("Volume");
            var newOptions = {
                "Volume": "Volume",
                "Key": "Key"
            };

            var $el = $("#SrchOptn");
            $el.empty(); // remove old options
            $.each(newOptions, function (key, value) {
                $el.append($("<option></option>")
                   .attr("value", value).text(key));
            });
            $.ajax({
                url: "/MasterTestDetails/LookUpEntry",
                type: "POST",
                //data: JSON.stringify({}),
                data: JSON.stringify({ SrchCode: 8 }),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                    if (data.Result === "OK") {
                        var currentrow = $("#LkUpEntryTable").find('tbody tr');
                        $.each(data.Records, function (index, tst) {
                            if (index > 0) {
                                currentrow = $(currentrow).clone();
                                $("#LkUpEntryTable tbody").append($(currentrow));
                                currentrow = $("#LkUpEntryTable tbody tr:last");
                            }
                            //tstname tstdpt smpltype tstrate  tstKey
                            //$(currentrow).find("#tstname").text(tst.TstMst_name);
                            $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                            //$(currentrow).find("#smpltype").text(tst.Sample);
                            //$(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                            $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                        })
                    }
                    else {
                        alert(" details not found!");
                    }
                }
            })
        })
        $('#tstSmpleSrch').on('click', function (event) {//sample
            //$("#widthContent").css("width", "67%");
            $(".payment-modal").css('width', 410);
            var table = $("#LkUpEntryTable").find('tbody tr');
            var tables = $("#LkUpEntryTable").find('tbody');
            var row = $("#LkUpEntryTable").find('tbody tr:first');
            $(tables).children('tr:not(:first)').remove();
            $(row).find("#tstname").text("");
            $(row).find("#tstdpt").text("");
            $(row).find("#smpltype").text("");
            $(row).find("#tstrate").text("");
            $(row).find("#tstKey").text("");
            $("#exampleModalLabel").text("Sample");
            //$('th#install').addClass('hide');
            var rows = $("#LkUpEntryTable").find('thead tr');
            //$(row).find('th:first').addClass('hide');
            //$('td:nth-child(2),th:nth-child(2)').hide();
            $(rows).find('th:eq(1)').hide();
            $(rows).find('th:eq(2)').hide();
            $(rows).find('th:eq(3)').hide();
            $(table).find('td:first').hide();
            $(table).find('td:eq(2)').hide();
            $(table).find('td:eq(3)').hide();
            $(rows).find('th:eq(0)').text("Sample");
            var newOptions = {
                "Sample": "Sample",
                "Key": "Key"
            };

            var $el = $("#SrchOptn");
            $el.empty(); // remove old options
            $.each(newOptions, function (key, value) {
                $el.append($("<option></option>")
                   .attr("value", value).text(key));
            });
            $.ajax({
                url: "/MasterTestDetails/LookUpEntry",
                type: "POST",
                //data: JSON.stringify({}),
                data: JSON.stringify({ SrchCode: 7 }),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                    if (data.Result === "OK") {
                        var currentrow = $("#LkUpEntryTable").find('tbody tr');
                        $.each(data.Records, function (index, tst) {
                            if (index > 0) {
                                currentrow = $(currentrow).clone();
                                $("#LkUpEntryTable tbody").append($(currentrow));
                                currentrow = $("#LkUpEntryTable tbody tr:last");
                            }
                            //tstname tstdpt smpltype tstrate  tstKey
                            //$(currentrow).find("#tstname").text(tst.TstMst_name);
                            $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                            //$(currentrow).find("#smpltype").text(tst.Sample);
                            //$(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                            $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                        })
                    }
                    else {
                        alert(" details not found!");
                    }
                }
            })
        })
        $('#tstTechSrch').on('click', function (event) {//tech
            //$("#widthContent").css("width", "67%");
            $(".payment-modal").css('width', 520);
            var table = $("#LkUpEntryTable").find('tbody tr');
            var tables = $("#LkUpEntryTable").find('tbody');
            var row = $("#LkUpEntryTable").find('tbody tr:first');
            $(tables).children('tr:not(:first)').remove();
            $(row).find("#tstname").text("");
            $(row).find("#tstdpt").text("");
            $(row).find("#smpltype").text("");
            $(row).find("#tstrate").text("");
            $(row).find("#tstKey").text("");
            $("#exampleModalLabel").text("Technology");
            //$('th#install').addClass('hide');
            var rows = $("#LkUpEntryTable").find('thead tr');
            //$(row).find('th:first').addClass('hide');
            //$('td:nth-child(2),th:nth-child(2)').hide();
            $(rows).find('th:eq(1)').hide();
            $(rows).find('th:eq(2)').hide();
            $(rows).find('th:eq(3)').hide();
            $(table).find('td:first').hide();
            $(table).find('td:eq(2)').hide();
            $(table).find('td:eq(3)').hide();
            $(rows).find('th:eq(0)').text("Technology");
            var newOptions = {
                "Technology": "Technology",
                "Key": "Key"
            };

            var $el = $("#SrchOptn");
            $el.empty(); // remove old options
            $.each(newOptions, function (key, value) {
                $el.append($("<option></option>")
                   .attr("value", value).text(key));
            });
            $.ajax({
                url: "/MasterTestDetails/LookUpEntry",
                type: "POST",
                //data: JSON.stringify({}),
                data: JSON.stringify({ SrchCode: 6 }),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                    if (data.Result === "OK") {
                        var currentrow = $("#LkUpEntryTable").find('tbody tr');
                        $.each(data.Records, function (index, tst) {
                            if (index > 0) {
                                currentrow = $(currentrow).clone();
                                $("#LkUpEntryTable tbody").append($(currentrow));
                                currentrow = $("#LkUpEntryTable tbody tr:last");
                            }
                            //tstname tstdpt smpltype tstrate  tstKey
                            //$(currentrow).find("#tstname").text(tst.TstMst_name);
                            $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                            //$(currentrow).find("#smpltype").text(tst.Sample);
                            //$(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                            $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                        })
                    }
                    else {
                        alert(" details not found!");
                    }
                }
            })
        })
        $('#tstUnitSrch').on('click', function (event) {
            //$("#widthContent").css("width", "67%");
            $(".payment-modal").css('width', 330);
            var table = $("#LkUpEntryTable").find('tbody tr');
            var tables = $("#LkUpEntryTable").find('tbody');
            var row = $("#LkUpEntryTable").find('tbody tr:first');
            $(tables).children('tr:not(:first)').remove();
            $(row).find("#tstname").text("");
            $(row).find("#tstdpt").text("");
            $(row).find("#smpltype").text("");
            $(row).find("#tstrate").text("");
            $(row).find("#tstKey").text("");
            $("#exampleModalLabel").text("Unit");
            //$('th#install').addClass('hide');
            var rows = $("#LkUpEntryTable").find('thead tr');
            //$(row).find('th:first').addClass('hide');
            //$('td:nth-child(2),th:nth-child(2)').hide();
            $(rows).find('th:eq(1)').hide();
            $(rows).find('th:eq(2)').hide();
            $(rows).find('th:eq(3)').hide();
            $(table).find('td:first').hide();
            $(table).find('td:eq(2)').hide();
            $(table).find('td:eq(3)').hide();
            $(rows).find('th:eq(0)').text("Unit");
            var newOptions = {
                "Unit": "Unit",
                "Key": "Key"
            };

            var $el = $("#SrchOptn");
            $el.empty(); // remove old options
            $.each(newOptions, function (key, value) {
                $el.append($("<option></option>")
                   .attr("value", value).text(key));
            });
            $.ajax({
                url: "/MasterTestDetails/LookUpEntry",
                type: "POST",
                //data: JSON.stringify({}),
                data: JSON.stringify({ SrchCode: 5 }),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                    if (data.Result === "OK") {
                        var currentrow = $("#LkUpEntryTable").find('tbody tr');
                        $.each(data.Records, function (index, tst) {
                            if (index > 0) {
                                currentrow = $(currentrow).clone();
                                $("#LkUpEntryTable tbody").append($(currentrow));
                                currentrow = $("#LkUpEntryTable tbody tr:last");
                            }
                            //tstname tstdpt smpltype tstrate  tstKey
                            //$(currentrow).find("#tstname").text(tst.TstMst_name);
                            $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                            //$(currentrow).find("#smpltype").text(tst.Sample);
                            //$(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                            $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                        })
                    }
                    else {
                        alert(" details not found!");
                    }
                }
            })
        })
        $('#tstDvsnSrch').on('click', function (event) {
            $(".payment-modal").css('width', 430);
            var table = $("#LkUpEntryTable").find('tbody tr');
            var tables = $("#LkUpEntryTable").find('tbody');
            var row = $("#LkUpEntryTable").find('tbody tr:first');
            $(tables).children('tr:not(:first)').remove();
            $(row).find("#tstname").text("");
            $(row).find("#tstdpt").text("");
            $(row).find("#smpltype").text("");
            $(row).find("#tstrate").text("");
            $(row).find("#tstKey").text("");
            $("#exampleModalLabel").text("Division");
            //$('th#install').addClass('hide');
            var rows = $("#LkUpEntryTable").find('thead tr');
            //$(row).find('th:first').addClass('hide');
            //$('td:nth-child(2),th:nth-child(2)').hide();
            $(rows).find('th:eq(1)').hide();
            $(rows).find('th:eq(2)').hide();
            $(rows).find('th:eq(3)').hide();
            $(table).find('td:first').hide();
            $(table).find('td:eq(2)').hide();
            $(table).find('td:eq(3)').hide();
            $(rows).find('th:eq(0)').text("Division");
            var newOptions = {
                "Division": "Division",
                "Key": "Key"
            };

            var $el = $("#SrchOptn");
            $el.empty(); // remove old options
            $.each(newOptions, function (key, value) {
                $el.append($("<option></option>")
                   .attr("value", value).text(key));
            });
            $.ajax({
                url: "/MasterTestDetails/LookUpEntry",
                type: "POST",
                //data: JSON.stringify({}),
                data: JSON.stringify({ SrchCode: 4 }),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                    if (data.Result === "OK") {
                        var currentrow = $("#LkUpEntryTable").find('tbody tr');
                        $.each(data.Records, function (index, tst) {
                            if (index > 0) {
                                currentrow = $(currentrow).clone();
                                $("#LkUpEntryTable tbody").append($(currentrow));
                                currentrow = $("#LkUpEntryTable tbody tr:last");
                            }
                            //tstname tstdpt smpltype tstrate  tstKey
                            //$(currentrow).find("#tstname").text(tst.TstMst_name);
                            $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                            //$(currentrow).find("#smpltype").text(tst.Sample);
                            //$(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                            $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                        })
                    }
                    else {
                        alert(" details not found!");
                    }
                }
            })
        })
        $('#tstDptSrch').on('click', function (event) {
            $(".payment-modal").css('width', 540);
            var table = $("#LkUpEntryTable").find('tbody tr');
            var tables = $("#LkUpEntryTable").find('tbody');
            var row = $("#LkUpEntryTable").find('tbody tr:first');
            $(tables).children('tr:not(:first)').remove();
            $(row).find("#tstname").text("");
            $(row).find("#tstdpt").text("");
            $(row).find("#smpltype").text("");
            $(row).find("#tstrate").text("");
            $(row).find("#tstKey").text("");
            $("#exampleModalLabel").text("Department");
            //$('th#install').addClass('hide');
            var rows = $("#LkUpEntryTable").find('thead tr');
            //$(row).find('th:first').addClass('hide');
            //$('td:nth-child(2),th:nth-child(2)').hide();
            $(rows).find('th:eq(1)').hide();
            $(rows).find('th:eq(2)').hide();
            $(rows).find('th:eq(3)').hide();
            $(table).find('td:first').hide();
            $(table).find('td:eq(2)').hide();
            $(table).find('td:eq(3)').hide();
            $(rows).find('th:eq(0)').text("Department");
            var newOptions = {
                "Department": "Department",
                "Key": "Key"
            };

            var $el = $("#SrchOptn");
            $el.empty(); // remove old options
            $.each(newOptions, function (key, value) {
                $el.append($("<option></option>")
                   .attr("value", value).text(key));
            });
            $.ajax({
                url: "/MasterTestDetails/LookUpEntry",
                type: "POST",
                //data: JSON.stringify({}),
                data: JSON.stringify({ SrchCode: 3 }),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                    if (data.Result === "OK") {
                        var currentrow = $("#LkUpEntryTable").find('tbody tr');
                        $.each(data.Records, function (index, tst) {
                            if (index > 0) {
                                currentrow = $(currentrow).clone();
                                $("#LkUpEntryTable tbody").append($(currentrow));
                                currentrow = $("#LkUpEntryTable tbody tr:last");
                            }
                            //tstname tstdpt smpltype tstrate  tstKey
                            //$(currentrow).find("#tstname").text(tst.TstMst_name);
                            $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                            //$(currentrow).find("#smpltype").text(tst.Sample);
                            //$(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                            $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                        })
                    }
                    else {
                        alert(" details not found!");
                    }
                }
            })
        })
        $('#tstMthdSrch').on('click', function (event) {
            $(".payment-modal").css('width', 490);
            var table = $("#LkUpEntryTable").find('tbody tr');
            var tables = $("#LkUpEntryTable").find('tbody');
            var row = $("#LkUpEntryTable").find('tbody tr:first');
            $(tables).children('tr:not(:first)').remove();
            $(row).find("#tstname").text("");
            $(row).find("#tstdpt").text("");
            $(row).find("#smpltype").text("");
            $(row).find("#tstrate").text("");
            $(row).find("#tstKey").text("");
            $("#exampleModalLabel").text("Method");
            //$('th#install').addClass('hide');
            var rows = $("#LkUpEntryTable").find('thead tr');
            //$(row).find('th:first').addClass('hide');
            //$('td:nth-child(2),th:nth-child(2)').hide();
            $(rows).find('th:eq(1)').hide();
            $(rows).find('th:eq(2)').hide();
            $(rows).find('th:eq(3)').hide();
            $(table).find('td:first').hide();
            $(table).find('td:eq(2)').hide();
            $(table).find('td:eq(3)').hide();
            $(rows).find('th:eq(0)').text("Method");
            var newOptions = {
                "Method": "Method",
                "Key": "Key"
            };

            var $el = $("#SrchOptn");
            $el.empty(); // remove old options
            $.each(newOptions, function (key, value) {
                $el.append($("<option></option>")
                   .attr("value", value).text(key));
            });
            $.ajax({
                url: "/MasterTestDetails/LookUpEntry",
                type: "POST",
                //data: JSON.stringify({}),
                data: JSON.stringify({ SrchCode: 2 }),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                    if (data.Result === "OK") {
                        var currentrow = $("#LkUpEntryTable").find('tbody tr');
                        $.each(data.Records, function (index, tst) {
                            if (index > 0) {
                                currentrow = $(currentrow).clone();
                                $("#LkUpEntryTable tbody").append($(currentrow));
                                currentrow = $("#LkUpEntryTable tbody tr:last");
                            }
                            //tstname tstdpt smpltype tstrate  tstKey
                            //$(currentrow).find("#tstname").text(tst.TstMst_name);
                            $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                            //$(currentrow).find("#smpltype").text(tst.Sample);
                            //$(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                            $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                        })
                    }
                    else {
                        alert(" details not found!");
                    }
                }
            })
        })
        $('#tstSrchType').on('click', function (event) {
            $(".payment-modal").css('width', 490);
            var table = $("#LkUpEntryTable").find('tbody tr');
            var tables = $("#LkUpEntryTable").find('tbody');
            var row = $("#LkUpEntryTable").find('tbody tr:first');
            $(tables).children('tr:not(:first)').remove();
            $(row).find("#tstname").text("");
            $(row).find("#tstdpt").text("");
            $(row).find("#smpltype").text("");
            $(row).find("#tstrate").text("");
            $(row).find("#tstKey").text("");
            $("#exampleModalLabel").text("Test Type");
            //$('th#install').addClass('hide');
            var rows = $("#LkUpEntryTable").find('thead tr');
            //$(row).find('th:first').addClass('hide');
            //$('td:nth-child(2),th:nth-child(2)').hide();
            $(rows).find('th:eq(1)').hide();
            $(rows).find('th:eq(2)').hide();
            $(rows).find('th:eq(3)').hide();
            $(table).find('td:first').hide();
            $(table).find('td:eq(2)').hide();
            $(table).find('td:eq(3)').hide();
            $(rows).find('th:eq(0)').text("Test Type");
            var newOptions = {
                "Test Type": "Test Type",
                "Key": "Key"
            };

            var $el = $("#SrchOptn");
            $el.empty(); // remove old options
            $.each(newOptions, function (key, value) {
                $el.append($("<option></option>")
                   .attr("value", value).text(key));
            });
            $.ajax({
                url: "/MasterTestDetails/LookUpEntry",
                type: "POST",
                //data: JSON.stringify({}),
                data: JSON.stringify({ SrchCode: 1 }),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                    if (data.Result === "OK") {
                        var currentrow = $("#LkUpEntryTable").find('tbody tr');
                        $.each(data.Records, function (index, tst) {
                            if (index > 0) {
                                currentrow = $(currentrow).clone();
                                $("#LkUpEntryTable tbody").append($(currentrow));
                                currentrow = $("#LkUpEntryTable tbody tr:last");
                            }
                            //tstname tstdpt smpltype tstrate  tstKey
                            //$(currentrow).find("#tstname").text(tst.TstMst_name);
                            $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                            //$(currentrow).find("#smpltype").text(tst.Sample);
                            //$(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                            $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                        })
                    }
                    else {
                        alert(" details not found!");
                    }
                }
            })
        })
        $('#btnTstNameSrch').on('click', function (event) {
            $(".payment-modal").css('width', 840);
            var tables = $("#LkUpEntryTable").find('tbody');
            var table = $("#LkUpEntryTable").find('tbody');
            var row = $("#LkUpEntryTable").find('tbody tr:first');
            $(tables).children('tr:not(:first)').remove();
            $(row).find("#tstname").text("");
            $(row).find("#tstdpt").text("");
            $(row).find("#smpltype").text("");
            $(row).find("#tstrate").text("");
            $(row).find("#tstKey").text("");
            $("#exampleModalLabel").text("Test Name");
            var rows = $("#LkUpEntryTable").find('thead tr');
            //$(row).find('th:first').addClass('hide');
            //$('td:nth-child(2),th:nth-child(2)').hide();
            $(rows).find('th:eq(1)').show();
            $(rows).find('th:eq(2)').show();
            $(rows).find('th:eq(3)').show();
            $(table).find('td:first').show();
            $(table).find('td:eq(2)').show();
            $(table).find('td:eq(3)').show();
            var newOptions = {
                "Test Name": "Test Name",
                "Key": "Key",
                "Department": "Department",
                "Sample Type": "Sample Type",
                "Rate": "Rate"
            };

            var $el = $("#SrchOptn");
            $el.empty(); // remove old options
            $.each(newOptions, function (key, value) {
                $el.append($("<option></option>")
                   .attr("value", value).text(key));
            });
            $.ajax({
                url: "/MasterTestDetails/LookUpEntry",
                type: "POST",
                //data: JSON.stringify({}),
                data: JSON.stringify({ SrchCode: 0 }),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                    if (data.Result === "OK") {
                        var currentrow = $("#LkUpEntryTable").find('tbody tr');
                        $.each(data.Records, function (index, tst) {
                            if (index > 0) {
                                currentrow = $(currentrow).clone();
                                $("#LkUpEntryTable tbody").append($(currentrow));
                                currentrow = $("#LkUpEntryTable tbody tr:last");
                            }
                            //tstname tstdpt smpltype tstrate  tstKey
                            $(currentrow).find("#tstname").text(tst.TstMst_name);
                            $(currentrow).find("#tstdpt").text(tst.Department);
                            $(currentrow).find("#smpltype").text(tst.Sample);
                            $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                            $(currentrow).find("#tstKey").text(tst.TstMst_Key);
                        })

                    }
                    else {
                        alert(" details not found!");
                    }
                }
            })
        })
        //$("#SrchOptn").change(function () {
        //    var tsdls = $('#SrchOptn option:selected').text();
        //    if (tsdls == 'Test Name') {
        //        $.ajax({
        //            url: "/MasterTestDetails/LookUpEntryMatch",
        //            type: "POST",
        //            //data: JSON.stringify({}),
        //            data: JSON.stringify({ SrchCode: 0 }),
        //            contentType: "application/json; charset=utf-8",
        //            dataType: "json",
        //            success: function (data) {
        //                if (data.Result === "OK") {
        //                    var currentrow = $("#LkUpEntryTable").find('tbody tr');
        //                    $.each(data.Records, function (index, tst) {
        //                        if (index > 0) {
        //                            currentrow = $(currentrow).clone();
        //                            $("#LkUpEntryTable tbody").append($(currentrow));
        //                            currentrow = $("#LkUpEntryTable tbody tr:last");
        //                        }
        //                        //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
        //                        //$(currentrow).find("#slno").val((index + 1));
        //                        $(currentrow).find("#tstname").text(tst.TstMst_name);
        //                        $(currentrow).find("#tstdpt").text(tst.Department);
        //                        $(currentrow).find("#smpltype").text(tst.Sample);
        //                        $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
        //                        $(currentrow).find("#tstKey").text(tst.TstMst_Key);
        //                    })
        //                }
        //                else {
        //                    alert(" test not found!");
        //                }
        //            }
        //        })
        //    }
        //})
        $('#tstDtl').keyup(function () {
            //var x = $('#SrchOptn :selected').text();
            var selectElement = document.querySelector('#SrchOptn');
            var tsdls = selectElement.value;
            //$('#SrchOptn :selected').text();
            var tstDtls = $('#tstDtl').val();
            var table = $("#LkUpEntryTable").find('tbody');
            var row = $("#LkUpEntryTable").find('tbody tr:first');
            $(table).children('tr:not(:first)').remove();
            $(row).find("#tstname").text("");
            $(row).find("#tstdpt").text("");
            $(row).find("#smpltype").text("");
            $(row).find("#tstrate").text("");
            $(row).find("#tstKey").text("");
            var title = $("#exampleModalLabel").text();
            //var tsdls = $('#SrchOptn option:selected').text();
            if (tsdls == 'Key' && tstDtls != "" && title == 'Perform at') {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: tstDtls, Check: 26 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.Mstr_Desc);
                                $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Test Type' && tstDtls != "" && title == 'Perform at') {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: tstDtls, Check: 25 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.Mstr_Desc);
                                $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Key' && tstDtls != "" && title == 'Test Mode') {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: tstDtls, Check: 24 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.Mstr_Desc);
                                $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Test Mode' && tstDtls != "" && title == 'Test Mode') {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: tstDtls, Check: 23 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.Mstr_Desc);
                                $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Key' && tstDtls != "" && title == 'Volume') {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: tstDtls, Check: 22 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.Mstr_Desc);
                                $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Volume' && tstDtls != "" && title == 'Volume') {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: tstDtls, Check: 21 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.Mstr_Desc);
                                $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Key' && tstDtls != "" && title == 'Cut Of Time') {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: tstDtls, Check: 20 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.Mstr_Desc);
                                $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Cut Of Time' && tstDtls != "" && title == 'Cut Of Time') {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: tstDtls, Check: 19 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.Mstr_Desc);
                                $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Key' && tstDtls != "" && title == 'Sample') {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: tstDtls, Check: 18 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.Mstr_Desc);
                                $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Sample' && tstDtls != "" && title == 'Sample') {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: tstDtls, Check: 17 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.Mstr_Desc);
                                $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Key' && tstDtls != "" && title == 'Technology') {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: tstDtls, Check: 16 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.Mstr_Desc);
                                $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Technology' && tstDtls != "" && title == 'Technology') {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: tstDtls, Check: 15 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.Mstr_Desc);
                                $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Key' && tstDtls != "" && title == 'Unit') {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: tstDtls, Check: 14 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.Mstr_Desc);
                                $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Unit' && tstDtls != "" && title == 'Unit') {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: tstDtls, Check: 13 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.Mstr_Desc);
                                $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Key' && tstDtls != "" && title == 'Division') {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: tstDtls, Check: 12 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.Mstr_Desc);
                                $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Division' && tstDtls != "" && title == 'Division') {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: tstDtls, Check: 11 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.Mstr_Desc);
                                $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            if (tsdls == 'Key' && tstDtls != "" && title == 'Department') {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: tstDtls, Check: 10 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.Mstr_Desc);
                                $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Department' && tstDtls != "" && title == 'Department') {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: tstDtls, Check: 9 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.Mstr_Desc);
                                $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Key' && tstDtls != "" && title == 'Method') {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: tstDtls, Check: 8 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.Mstr_Desc);
                                $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Method' && tstDtls != "" && title == 'Method') {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: tstDtls, Check: 7 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.Mstr_Desc);
                                $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Key' && tstDtls != "" && title == 'Test Type') {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: tstDtls, Check: 6 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.Mstr_Desc);
                                $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Test Type' && tstDtls != "" && title == 'Test Type') {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: tstDtls, Check: 5 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.Mstr_Desc);
                                $(currentrow).find("#tstdpt").text(tst.Mstr_Desc);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.Mstr_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Test Name' && tstDtls != "") {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    //data: JSON.stringify({}),
                    data: JSON.stringify({ term: tstDtls, Check: 0 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.TstMst_name);
                                $(currentrow).find("#tstdpt").text(tst.Department);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.TstMst_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
                //else if (tsdls == 'Test type' && tstDtls != "") {
                //    $.ajax({
                //        url: "/MasterTestDetails/TestSearch",
                //        type: "POST",
                //        //data: JSON.stringify({}),
                //        data: JSON.stringify({ term: tstDtls, Check: 5 }),
                //        contentType: "application/json; charset=utf-8",
                //        dataType: "json",
                //        success: function (data) {
                //            if (data.Result === "OK") {
                //                var currentrow = $("#LkUpEntryTable").find('tbody tr');
                //                $.each(data.Records, function (index, tst) {
                //                    if (index > 0) {
                //                        currentrow = $(currentrow).clone();
                //                        $("#LkUpEntryTable tbody").append($(currentrow));
                //                        currentrow = $("#LkUpEntryTable tbody tr:last");
                //                    }
                //                    //    LkUpEntryTable tstname tstdpt smpltype tstrate tstKey
                //                    //$(currentrow).find("#slno").val((index + 1));
                //                    $(currentrow).find("#tstname").text(tst.TstMst_name);
                //                    $(currentrow).find("#tstdpt").text(tst.Department);
                //                    $(currentrow).find("#smpltype").text(tst.Sample);
                //                    $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                //                    $(currentrow).find("#tstKey").text(tst.TstMst_Key);
                //                })
                //            }
                //            else {
                //                alert(" test not found!");
                //            }
                //        }
                //    })
                //}
            else if (tsdls == 'Key' && tstDtls != "") {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    data: JSON.stringify({ term: tstDtls, Check: 1 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.TstMst_name);
                                $(currentrow).find("#tstdpt").text(tst.Department);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.TstMst_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Department' && tstDtls != "") {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    data: JSON.stringify({ term: tstDtls, Check: 2 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.TstMst_name);
                                $(currentrow).find("#tstdpt").text(tst.Department);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.TstMst_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Sample Type' && tstDtls != "") {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    data: JSON.stringify({ term: tstDtls, Check: 3 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.TstMst_name);
                                $(currentrow).find("#tstdpt").text(tst.Department);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.TstMst_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else if (tsdls == 'Rate' && tstDtls != "") {
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    data: JSON.stringify({ term: tstDtls, Check: 4 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.TstMst_name);
                                $(currentrow).find("#tstdpt").text(tst.Department);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.TstMst_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
            else {
                //var patsrchobj = {
                //    patSrch: "",
                //    SrchChk: ""
                //}
                //var name = $("#PatDtl").val();
                $.ajax({
                    url: "/MasterTestDetails/TestSearch",
                    type: "POST",
                    data: JSON.stringify({ term: tstDtls, Check: 40 }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        if (data.Result === "OK") {
                            var currentrow = $("#LkUpEntryTable").find('tbody tr');
                            $.each(data.Records, function (index, tst) {
                                if (index > 0) {
                                    currentrow = $(currentrow).clone();
                                    $("#LkUpEntryTable tbody").append($(currentrow));
                                    currentrow = $("#LkUpEntryTable tbody tr:last");
                                }
                                //$(currentrow).find("#slno").val((index + 1));
                                $(currentrow).find("#tstname").text(tst.TstMst_name);
                                $(currentrow).find("#tstdpt").text(tst.Department);
                                $(currentrow).find("#smpltype").text(tst.Sample);
                                $(currentrow).find("#tstrate").text(tst.TstMst_Rate);
                                $(currentrow).find("#tstKey").text(tst.TstMst_Key);
                            })
                        }
                        else {
                            alert(" test not found!");
                        }
                    }
                })
            }
        })
        //txtRefRange2 txtSpecifications
    </script>
    <style>
        #dctrWdthCntnt {
            width: 396px;
            margin-right: auto;
            margin-left: auto;
        }

        .highlight_row {
            background-color: red;
        }

        .ui-autocomplete {
            height: 200px;
            overflow-y: auto;
        }

        td:focus {
            border: #dee2e6;
        }

        #txtSpecifications:focus {
            background: #b6ff00;
        }

        #txtRefRange2:focus {
            background: #b6ff00;
        }

        #txtRefRange2,#txtSpecifications/*tbody tr td input[type="text"]*/ {
            background: white;
        }

        input[type="text"]:focus, textarea:focus, #tstrpt:focus, #tstRptOnDMY:focus {
            background: #b6ff00;
        }
        /*input[type="text"], textarea {
            background-color: #d1d1d1;
        }*/
        /*input[type="text"]:focus {
            background: #b6ff00;
        }

        #intrnlNote:focus {
            background: #b6ff00;
        }*/

        #txtRefRange1:focus {
            background: #b6ff00;
        }

        div[role=application] {
            height: 450px;
        }

        .tox-notifications-container {
            display: none;
        }

        .tox .tox-statusbar {
            display: none;
        }
    </style>
    <style>
        .select-editable {
            position: relative;
            background-color: white;
            border: solid grey 1px;
            width: 120px;
            height: 18px;
        }

            .select-editable select {
                position: absolute;
                top: 0px;
                left: 0px;
                font-size: 14px;
                border: none;
                width: 120px;
                margin: 0;
            }

            .select-editable input {
                position: absolute;
                top: 0px;
                left: 0px;
                width: 100px;
                padding: 1px;
                font-size: 12px;
                border: none;
            }

                .select-editable select:focus, .select-editable input:focus {
                    outline: none;
                }
    </style>
}

